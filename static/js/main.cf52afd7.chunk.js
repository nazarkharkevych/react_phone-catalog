(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(53).concat([function(e,t,c){},,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(31),a=c.n(n),s=c(7),r=c(3),i=(c(53),c(12)),o=c(6),l=c(4),j=c(46),u=c.n(j),d=c(47),b=c(14),O="https://mate-academy.github.io/react_phone-catalog/api/products",h=Object(d.a)({reducerPath:"api",baseQuery:Object(b.d)({baseUrl:""}),endpoints:function(e){return{getProducts:e.query({query:function(){return"".concat(O,".json")}}),getProductDetails:e.query({query:function(e){return"".concat(O,"/").concat(e,".json")}})}}}),m=h.useGetProductsQuery,x=h.useGetProductDetailsQuery,f=c(11),v=Object(l.e)({name:"cart",initialState:[],reducers:{add:function(e,t){e.push({id:t.payload.id,quantity:1,product:t.payload})},increaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1})}))},decreaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity-1})}))},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),p=v.actions,_=p.add,g=p.remove,N=p.increaseQuantity,y=p.decreaseQuantity,P=v.reducer,C=Object(l.e)({name:"favourites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=C.actions,w=k.add,M=k.remove,S=C.reducer,F=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),D=Object(l.b)({reducer:Object(o.a)({cart:P,favourites:S},h.reducerPath,h.reducer),middleware:function(e){return e().concat(h.middleware)},preloadedState:F});D.subscribe(u()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){throw new Error("Failed to serialize state")}}({cart:D.getState().cart,favourites:D.getState().favourites})}),1e3));c(70),c(71);var L,A=c(23),q=c(10),T=c.n(q),I=(c(72),c(0)),B=["type","children"],R=function(e){var t=e.type,c=e.children,n=Object(A.a)(e,B);return Object(I.jsx)(s.c,Object(f.a)(Object(f.a)({className:function(e){var c=e.isActive;return T()("NavLinkMain",Object(o.a)({},"NavLinkMain--".concat(t),t),{"is-active":c})}},n),{},{children:c}))},E=function(){return Object(I.jsx)("nav",{className:"Navbar",children:Object(I.jsxs)("ul",{className:"Navbar__list",children:[Object(I.jsx)("li",{className:"Navbar__item",children:Object(I.jsx)(R,{type:"text",to:"/",children:"Home"})}),Object(I.jsx)("li",{className:"Navbar__item",children:Object(I.jsx)(R,{type:"text",to:"phones",children:"Phones"})}),Object(I.jsx)("li",{className:"Navbar__item",children:Object(I.jsx)(R,{type:"text",to:"tablets",children:"Tablets"})}),Object(I.jsx)("li",{className:"Navbar__item",children:Object(I.jsx)(R,{type:"text",to:"accessories",children:"Accessories"})})]})})},H=c(5),G=(c(75),c(1)),Q=c.n(G),z=function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(H.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()},U=function(){var e=Object(s.d)(),t=Object(H.a)(e,2),c=t[0],n=t[1],a=c.get("query")||"",i=Object(G.useState)(a),o=Object(H.a)(i,2),l=o[0],j=o[1],u=Object(r.n)(),d=Object(G.useMemo)((function(){return u.pathname.split("/")[1]}),[u]);Object(G.useEffect)((function(){j(a)}),[d]);var b=Object(G.useMemo)((function(){return function(e){var t=e.pathname.split("/");return!(t.length>2)&&["phones","tablets","accessories","favourites"].some((function(e){return t.includes(e)}))}(u)}),[d]),O=Object(G.useCallback)(function(e,t){var c=0;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,a)}),t)}}(n,600),[d]);return Object(I.jsxs)("div",{className:T()("Search",{isVisible:b}),children:[Object(I.jsx)("input",{type:"text","aria-label":"search",value:l,className:T()("Search__input",{"has-icon":!l}),placeholder:"Search in ".concat(d,"..."),onChange:function(e){var t=e.target.value;j(t);var n={query:t.trim()||null};O(z(c,n))}}),Object(I.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"clear-search",className:T()("Search__clear-button",{isActive:!!l}),onClick:function(){j(""),n(z(c,{query:null}))}})]})},$=(c(76),c.p+"static/media/Logo.2d8d3e42.svg"),J=function(){return Object(I.jsx)(s.b,{to:"/home",className:"Logo",children:Object(I.jsx)("img",{src:$,alt:"logo"})})},W=(c(77),function(){return Object(i.d)()}),Y=i.e,V=(c(78),c(79),function(e){var t=e.count;return Object(I.jsx)("span",{className:T()("Counter",{isActive:!!t}),children:t})}),K=c.p+"static/media/Favourites.bad2bff8.svg",X=c.p+"static/media/Cart.5020f1ab.svg",Z=function(e){var t=e.type,c=Y((function(e){return e[t]})),n=Object(G.useMemo)((function(){return c.length}),[c]),a={favourites:K,cart:X};return Object(I.jsxs)("div",{className:"IconWithCounter",children:[Object(I.jsx)("img",{src:a[t],alt:t,className:"IconWithCounter__image"}),Object(I.jsx)(V,{count:n})]})},ee=function(){var e=Object(G.useState)(!1),t=Object(H.a)(e,2),c=t[0],n=t[1],a=document.body,r=function(){n(!1),a.classList.remove("with-menu")};return Object(I.jsxs)("div",{className:"Menu",children:[Object(I.jsx)("button",{type:"button",className:"Menu__open",onClick:function(){n(!0),a.classList.add("with-menu")}}),Object(I.jsxs)("div",{className:T()("Menu__content",{isActive:c}),children:[Object(I.jsx)("div",{className:"Menu__content-top",children:Object(I.jsx)("button",{type:"button",className:"Menu__close",onClick:r})}),Object(I.jsx)("ul",{className:"Menu__list",children:["home","phones","tablets","accessories","favourites","cart"].map((function(e){return Object(I.jsxs)("li",{className:"Menu__item",children:[Object(I.jsx)(s.b,{to:e,onClick:r,children:e[0].toUpperCase()+e.slice(1)}),("favourites"===e||"cart"===e)&&Object(I.jsx)(Z,{type:e})]},e)}))})]})]})},te=function(){return Object(I.jsxs)("header",{className:"Header",children:[Object(I.jsxs)("div",{className:"Header__navigation",children:[Object(I.jsx)(J,{}),Object(I.jsx)(E,{})]}),Object(I.jsx)(U,{}),Object(I.jsxs)("div",{className:"Header__actions",children:[Object(I.jsx)(R,{to:"favourites",type:"icon","aria-label":"favourites",children:Object(I.jsx)(Z,{type:"favourites"})}),Object(I.jsx)(R,{to:"cart",type:"icon","aria-label":"cart",children:Object(I.jsx)(Z,{type:"cart"})})]}),Object(I.jsx)(ee,{})]})},ce=(c(80),["className","variant","sign","arrowDirection"]),ne=function(e){var t=e.className,c=void 0===t?"":t,n=e.variant,a=e.sign,s=e.arrowDirection,r=Object(A.a)(e,ce);return Object(I.jsx)("button",Object(f.a)({type:"button",className:T()("Button",Object(o.a)({},c,c),Object(o.a)({},"Button--".concat(n),n),Object(o.a)({},"Button--quantity-".concat(a),a),Object(o.a)({},"Button--arrow-".concat(s),s))},r))};c(81);!function(e){e.Github="https://github.com/nazarkharkevych/react_phone-catalog"}(L||(L={}));var ae,se,re=function(){var e="".concat(L.Github,"/blob/master/LICENSE");return Object(I.jsx)("footer",{className:"Footer",children:Object(I.jsxs)("div",{className:"Footer__content container",children:[Object(I.jsx)(J,{}),Object(I.jsx)("div",{className:"Footer__info",children:Object(I.jsxs)("ul",{className:"Footer__list",children:[Object(I.jsx)("li",{className:"Footer__list-item",children:Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:L.Github,children:"Github"})}),Object(I.jsx)("li",{className:"Footer__list-item",children:Object(I.jsx)("a",{href:"mailto:nkharkevych@gmail.com",children:"Contacts"})}),Object(I.jsx)("li",{className:"Footer__list-item",children:Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:e,children:"Rights"})})]})}),Object(I.jsxs)("div",{className:"Footer__anchor",children:[Object(I.jsx)("strong",{className:"Footer__anchor-text",children:"Back to top"}),Object(I.jsx)(ne,{variant:"arrow",arrowDirection:"top","aria-label":"scroll-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})},ie=function(){return Object(I.jsx)(i.a,{store:D,children:Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(te,{}),Object(I.jsx)("main",{className:"App__main",children:Object(I.jsx)(r.b,{})}),Object(I.jsx)(re,{})]})})},oe=(c(82),c(83),c(25));!function(e){e[e.First=0]="First",e[e.Last=2]="Last"}(ae||(ae={})),function(e){e.left="left",e.right="right"}(se||(se={}));var le,je,ue=function(e){var t=e.images,c=Object(G.useState)(0),n=Object(H.a)(c,2),a=n[0],r=n[1],i="translate(-".concat(100*a,"%, 0)"),o=function(e){r((function(t){switch(!0){case e===se.left:return t===ae.First?ae.Last:t-1;case e===se.right:return t===ae.Last?ae.First:t+1;default:return t}}))};Object(G.useEffect)((function(){var e=setInterval((function(){o(se.right)}),5e3);return function(){clearInterval(e)}}),[a]);var l=Object(oe.a)({onSwipedLeft:function(){return o(se.right)},onSwipedRight:function(){return o(se.left)},trackMouse:!0});return Object(I.jsxs)("div",{className:"Carousel",children:[Object(I.jsxs)("div",{className:"Carousel__container",children:[Object(I.jsx)(ne,{variant:"arrow",arrowDirection:"left","aria-label":"carosuel-left",className:"Carousel__button",onClick:function(){return o(se.left)}}),Object(I.jsx)("div",{className:"Carousel__image-container",children:Object(I.jsx)("ul",Object(f.a)(Object(f.a)({className:"Carousel__image-list",style:{transform:i}},l),{},{children:t.map((function(e){var t=e.link,c=e.alt,n=e.images;return Object(I.jsx)("li",{children:Object(I.jsx)(s.b,{to:t,className:"Carousel__link",children:Object(I.jsxs)("picture",{children:[Object(I.jsx)("source",{media:"(min-width:901px)",srcSet:n[0]}),Object(I.jsx)("img",{src:n[1],alt:c,className:"Carousel__image"})]})})},c)}))}))}),Object(I.jsx)(ne,{variant:"arrow",className:"Carousel__button","aria-label":"carosuel-right",onClick:function(){return o(se.right)}})]}),Object(I.jsx)("div",{className:"Carousel__badges",children:[0,1,2].map((function(e){return Object(I.jsx)("button",{type:"button","aria-label":"carousel-show-".concat(e+1,"-image"),className:T()("Carousel__badge",{"Carousel__badge--active":a===e}),onClick:function(){return r(e)}},e)}))})]})},de=(c(84),c(48)),be=(c(86),function(e){var t=e.price;return t-t/100*e.discount}),Oe=function(e,t){return e.some((function(e){return e.id===t}))},he=function(e){var t=e.product,c=t.id,n=t.name,a=t.type,r=t.price,i=t.discount,o=t.screen,l=t.capacity,j=t.ram,u=t.imageUrl,d=Y((function(e){return e.cart})),b=Y((function(e){return e.favourites})),O=W(),h=Object(G.useMemo)((function(){return be(t)}),[]),m="/".concat(a,"s/").concat(c),x=Object(G.useMemo)((function(){return Oe(d,c)}),[d]),f=Object(G.useMemo)((function(){return Oe(b,c)}),[b]);return Object(I.jsx)("div",{className:"ProductCard",children:Object(I.jsxs)("div",{className:"ProductCard__content",children:[Object(I.jsx)("div",{className:"ProductCard__image-container",children:Object(I.jsx)(s.b,{to:m,children:Object(I.jsx)("img",{className:"ProductCard__image",src:u,width:"208",height:"208",alt:"product"})})}),Object(I.jsx)("p",{className:"ProductCard__title",children:Object(I.jsx)(s.b,{to:m,children:n})}),Object(I.jsxs)("div",{className:"ProductCard__price",children:[Object(I.jsx)("h2",{className:"ProductCard__price-main",children:"$".concat(h)}),!!i&&Object(I.jsx)("p",{className:"ProductCard__price-discount",children:"$".concat(r)})]}),Object(I.jsx)("table",{className:"ProductCard__specs-table",role:"presentation",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Screen"}),Object(I.jsx)("td",{children:o||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Capacity"}),Object(I.jsx)("td",{children:l||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"RAM"}),Object(I.jsx)("td",{children:j||"-"})]})]})}),Object(I.jsxs)("div",{className:"ProductCard__buttons",children:[Object(I.jsx)(ne,{variant:"cart",className:T()({active:x}),onClick:function(){x||O(_(t))},children:x?"Added to cart":"Add to cart"}),Object(I.jsx)(ne,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:T()({active:f}),onClick:function(){O(f?M(c):w(t))}})]})]})})},me=(c(87),Object(G.memo)((function(e){var t=e.category,c=Object(G.useMemo)((function(){return t[0].toUpperCase()+t.slice(1)}),[t]);return Object(I.jsx)("div",{className:"NoResults",children:Object(I.jsx)("h2",{children:"".concat(c," not found")})})}))),xe=(c(88),function(){return Object(I.jsx)("div",{className:"Loader",children:Object(I.jsx)("div",{className:"Loader__content"})})});!function(e){e[e.Fisrt=0]="Fisrt"}(le||(le={})),function(e){e[e.Small=460]="Small",e[e.Medium=800]="Medium",e[e.Large=1e3]="Large"}(je||(je={}));var fe,ve=function(e){var t=e.products,c=Object(G.useState)(0),n=Object(H.a)(c,2),a=n[0],s=n[1],r=Object(G.useState)(0),i=Object(H.a)(r,2),o=i[0],l=i[1],j=Object(G.useRef)(null),u=t.length,d=Object(G.useMemo)((function(){return o<je.Small?1:o<je.Medium?2:o<je.Large?3:4}),[o]),b=Object(G.useMemo)((function(){return(o-16*(d-1))/d}),[o,d]),O=Object(G.useMemo)((function(){return u*b+16*(u-1)}),[b]),h=Object(G.useMemo)((function(){return u-a<d&&s((function(e){return e-1})),a*b+16*a}),[a,b,d]);Object(G.useEffect)((function(){var e,t,c=(e=j,t=l,function(){e.current&&t(e.current.offsetWidth)}),n=Object(de.throttle)(c,200);return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var m=function(){s((function(e){return e-d<le.Fisrt?le.Fisrt:e-d}))},x=function(){s((function(e){return e+d>u-d?u-d:e+d}))},v=Object(oe.a)({onSwipedLeft:function(){return x()},onSwipedRight:function(){return m()},trackMouse:!0});return t.length?Object(I.jsxs)("div",{className:"ProductsSlider",children:[Object(I.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(I.jsx)(ne,{disabled:a===le.Fisrt,variant:"arrow",arrowDirection:"left","aria-label":"slide-left",onClick:m}),Object(I.jsx)(ne,{disabled:a>=u-d,variant:"arrow","aria-label":"slide-right",onClick:x})]}),Object(I.jsx)("div",{ref:j,className:"ProductsSlider__content",children:o?Object(I.jsx)("ul",Object(f.a)(Object(f.a)({className:"ProductsSlider__content-list","data-cy":"cardsContainer",style:{width:O,transform:"translate(-".concat(h,"px, 0)")}},v),{},{children:t.map((function(e){return Object(I.jsx)("li",{style:{width:b},children:Object(I.jsx)(he,{product:e})},e.id)}))})):Object(I.jsx)(xe,{})})]}):Object(I.jsx)(me,{category:"Products"})},pe=function(e,t){return e.reduce((function(e,c){return c.type!==t?e:e+1}),0)},_e=c.p+"static/media/category-phones.a089d6e2.png",ge=c.p+"static/media/category-tablets.4343567d.png",Ne=c.p+"static/media/category-accessories.4333225f.png",ye=c.p+"static/media/banner-phones.b4eeda8b.png",Pe=c.p+"static/media/banner-tablets.a962057c.png",Ce=c.p+"static/media/banner-accessories.bdd2e0fc.png",ke=c.p+"static/media/banner-phones-mob.5b08c418.jpg",we=c.p+"static/media/banner-tablets-mob.b48bff67.jpg",Me=c.p+"static/media/banner-accessories-mob.872117fd.jpg",Se=function(){var e=m(),t=e.data,c=void 0===t?[]:t,n=e.isLoading,a=[{link:"/phones",alt:"Phones",images:[ye,ke]},{link:"/tablets",alt:"Tablets",images:[Pe,we]},{link:"/accessories",alt:"Accessories",images:[Ce,Me]}],r=Object(G.useMemo)((function(){return c.filter((function(e){return 0!==e.discount})).sort((function(e,t){return be(e)-be(t)}))}),[c]),i=Object(G.useMemo)((function(){return c.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[c]),o=Object(G.useMemo)((function(){return pe(c,"phone")}),[c]),l=Object(G.useMemo)((function(){return pe(c,"tablet")}),[c]),j=Object(G.useMemo)((function(){return pe(c,"accessory")}),[c]);return Object(I.jsxs)("div",{className:"HomePage container",children:[n&&Object(I.jsx)("div",{className:"HomePage__loader",children:Object(I.jsx)(xe,{})}),!n&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"HomePage__carousel-container",children:Object(I.jsx)(ue,{images:a})}),Object(I.jsxs)("section",{className:"section",children:[Object(I.jsx)("h2",{className:"section__title",children:"Hot prices"}),Object(I.jsx)(ve,{products:r})]}),Object(I.jsxs)("section",{className:"HomePage__shop-by-category section",children:[Object(I.jsx)("h2",{className:"section__title",children:"Shop by category"}),Object(I.jsx)("div",{className:"HomePage__shop-by-category-container",children:Object(I.jsxs)("ul",{className:"HomePage__shop-by-category-list","data-cy":"categoryLinksContainer",children:[Object(I.jsx)("li",{children:Object(I.jsxs)(s.b,{to:"/phones",className:"HomePage__shop-by-category-link",children:[Object(I.jsx)("img",{src:_e,alt:"phones"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:"Mobile phones"}),Object(I.jsx)("p",{children:"".concat(o," models")})]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)(s.b,{to:"/tablets",className:"HomePage__shop-by-category-link",children:[Object(I.jsx)("img",{src:ge,alt:"tablets"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:"Tablets"}),Object(I.jsx)("p",{children:"".concat(l," models")})]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)(s.b,{to:"/accessories",className:"HomePage__shop-by-category-link",children:[Object(I.jsx)("img",{src:Ne,alt:"accessories"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:"Accessories"}),Object(I.jsx)("p",{children:"".concat(j," models")})]})]})})]})})]}),Object(I.jsxs)("section",{className:"HomePage__brand-new section",children:[Object(I.jsx)("h2",{className:"section__title",children:"Brand new models"}),Object(I.jsx)(ve,{products:i})]})]})]})},Fe=c(13),De=(c(89),c(90),function(e){var t=e.items;return Object(I.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(I.jsx)("ul",{className:"ProductsList__list",children:t.map((function(e){return Object(I.jsx)("li",{className:"ProductsList__item",children:Object(I.jsx)(he,{product:e})},e.id)}))})})}),Le=(c(91),["children","params"]),Ae=function(e){var t=e.children,c=e.params,n=Object(A.a)(e,Le),a=Object(s.d)(),r=Object(H.a)(a,1)[0];return Object(I.jsx)(s.b,Object(f.a)(Object(f.a)({to:{search:z(r,c)}},n),{},{children:t}))};!function(e){e.First="1"}(fe||(fe={}));var qe,Te=function(e){var t=e.children,c=e.paramName,n=e.label,a=Object(G.useState)(!1),r=Object(H.a)(a,2),i=r[0],l=r[1],j=Object(s.d)(),u=Object(H.a)(j,2),d=u[0],b=u[1],O=d.get(c)||"",h=Object(G.useMemo)((function(){return Q.a.Children.toArray(t)}),[]),m=Object(G.useRef)(),x=function(){l(!1)};return Object(G.useEffect)((function(){if(i){var e=function(e){m.current.contains(e.target)||l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[i]),Object(I.jsx)("div",{ref:m,className:T()("DropdownSelect",{"is-active":i}),children:Object(I.jsxs)("label",{htmlFor:c,className:"DropdownSelect__label",children:[n,Object(I.jsx)("select",{name:c,id:c,className:"DropdownSelect__select",value:O,onChange:function(e){var t=Object(o.a)({},c,e.target.value);b(z(d,t))},onMouseDown:function(e){e.preventDefault(),l((function(e){return!e}))},children:t}),Object(I.jsx)("ul",{children:h.map((function(e){var t,n=e.props;return Object(I.jsx)("li",{children:Object(I.jsx)(Ae,{params:(t={},Object(o.a)(t,c,n.value),Object(o.a)(t,"page",fe.First),t),onClick:x,children:n.children})},n.value)}))})]})})};c(92);!function(e){e[e.First=1]="First"}(qe||(qe={}));var Ie,Be,Re=function(e){var t=e.total,c=e.perPage,n=e.currentPage,a=Object(G.useMemo)((function(){return Math.ceil(t/c)}),[t,c]),s=Object(G.useMemo)((function(){return function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(1,a)}),[a]);return Object(I.jsxs)("ul",{className:"Pagination","data-cy":"pagination",children:[Object(I.jsx)("li",{className:T()("Pagination__item",{disabled:n===qe.First}),children:Object(I.jsx)(Ae,{"data-cy":"paginationLeft",className:"Pagination__link Pagination__link--prev","aria-label":"pagination-left",params:{page:"".concat(n-1)}})}),s.map((function(e){return Object(I.jsx)("li",{className:T()("Pagination__item",{active:n===e}),children:Object(I.jsx)(Ae,{className:"Pagination__link",params:{page:"".concat(e)},children:e})},e)})),Object(I.jsx)("li",{className:T()("Pagination__item",{disabled:n===a}),children:Object(I.jsx)(Ae,{"data-cy":"paginationRight",className:"Pagination__link Pagination__link--next","aria-label":"pagination-right",params:{page:"".concat(n+1)}})})]})},Ee=(c(93),function(e){var t=e.category;return Object(I.jsx)("div",{className:"NoSearchResults",children:Object(I.jsx)("h2",{children:"No ".concat(t," matching the query found \ud83e\uddd0")})})}),He=(c(94),function(){var e=Object(r.n)().pathname,t=Object(G.useMemo)((function(){return e.split("/").filter((function(e){return!!e})).map((function(e,t,c){var n=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}(e);return Object(I.jsx)("li",{className:"Breadcrumbs__item",children:t!==c.length-1?Object(I.jsx)(s.b,{to:"/".concat(e),children:n}):n},e)}))}),[e]);return Object(I.jsx)(I.Fragment,{children:t})}),Ge=function(){return Object(I.jsx)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:Object(I.jsxs)("ul",{className:"Breadcrumbs__list",children:[Object(I.jsx)("li",{children:Object(I.jsx)(s.b,{to:"/home",className:"Breadcrumbs__home-link","aria-label":"home"})}),Object(I.jsx)(He,{})]})})},Qe=function(e){return e.trim().toLowerCase()};!function(e){e.Phone="phone",e.Tablet="tablet",e.Accessory="accessory"}(Ie||(Ie={})),function(e){e.Age="age",e.Name="name",e.Price="price"}(Be||(Be={}));var ze,Ue=function(e){var t,c,n=e.productType,a=m(),r=a.data,i=void 0===r?[]:r,l=a.isLoading,j=Object(s.d)(),u=Object(H.a)(j,1)[0],d=u.get("sort")||"",b=u.get("perPage")||"",O=+(u.get("page")||"")||1,h=u.get("query")||"",x=(t={},Object(o.a)(t,Ie.Phone,"Mobile phones"),Object(o.a)(t,Ie.Tablet,"Tablets"),Object(o.a)(t,Ie.Accessory,"Accessories"),t),f=(c={},Object(o.a)(c,Ie.Phone,"phones"),Object(o.a)(c,Ie.Tablet,"tablets"),Object(o.a)(c,Ie.Accessory,"accessories"),c),v=Object(G.useMemo)((function(){return i.filter((function(e){return e.type===n}))}),[i,n]),p=Object(G.useMemo)((function(){return v.filter((function(e){var t=Qe(h);return Qe(e.name).includes(t)}))}),[v,h]),_=Object(G.useMemo)((function(){var e=Object(Fe.a)(p);switch(d){case Be.Age:return e.sort((function(e,t){return e.age-t.age}));case Be.Name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case Be.Price:return e.sort((function(e,t){return be(e)-be(t)}));default:return p}}),[d,p]),g=_.length,N={all:g,4:4,16:16,8:8,"":8},y=Object(G.useMemo)((function(){return N[b]*O-(N[b]-1)}),[O,b]),P=Object(G.useMemo)((function(){return Math.min(N[b]*O,g)}),[b,O,g]),C=Object(G.useMemo)((function(){return _.slice(y-1,P)}),[d,y,P,_]);return Object(I.jsxs)("div",{className:"ProductsPage container",children:[Object(I.jsx)("div",{className:"ProductsPage__breadcrumbs",children:Object(I.jsx)(Ge,{})}),Object(I.jsxs)("div",{className:"ProductsPage__title",children:[Object(I.jsx)("h1",{children:x[n]}),Object(I.jsx)("p",{children:"".concat(g," models")})]}),Object(I.jsxs)("div",{className:T()("ProductsPage__actions",{disabled:!g}),children:[Object(I.jsxs)(Te,{paramName:"sort",label:"Sort by",children:[Object(I.jsx)("option",{value:"age",children:"Newest"}),Object(I.jsx)("option",{value:"name",children:"Alphabetically"}),Object(I.jsx)("option",{value:"price",children:"Cheapest"})]}),Object(I.jsxs)(Te,{paramName:"perPage",label:"Items on page",children:[Object(I.jsx)("option",{value:"all",children:"All"}),Object(I.jsx)("option",{value:"4",children:"4"}),Object(I.jsx)("option",{value:"8",children:"8"}),Object(I.jsx)("option",{value:"16",children:"16"})]})]}),!g&&(h?Object(I.jsx)(Ee,{category:f[n]}):!l&&Object(I.jsx)(me,{category:f[n]})),l?Object(I.jsx)(xe,{}):!!g&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"ProductsPage__product-list",children:Object(I.jsx)(De,{items:C})}),g>3&&Object(I.jsx)(Re,{total:g,perPage:N[b],currentPage:O})]})]})},$e=(c(95),c(96),function(){var e=Object(r.p)();return Object(I.jsx)("button",{"data-cy":"backButton",type:"button",className:"GoBackButton",onClick:function(){return e(-1)},children:"Back"})}),Je=(c(97),function(e){var t=e.images,c=Object(G.useState)(0),n=Object(H.a)(c,2),a=n[0],s=n[1],r=Object(oe.a)({onSwipedLeft:function(){a!==t.length-1&&s((function(e){return e+1}))},onSwipedRight:function(){a!==ae.First&&s((function(e){return e-1}))},trackMouse:!0});return Object(I.jsx)("div",{className:"MobileCarousel",children:Object(I.jsx)("ul",Object(f.a)(Object(f.a)({className:"MobileCarousel__list",style:{transform:"translate(-".concat(100*a,"%, 0)")}},r),{},{children:null===t||void 0===t?void 0:t.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)("img",{src:e,alt:"product"})},e)}))}))})});!function(e){e[e.From=4]="From",e[e.To=16]="To"}(ze||(ze={}));var We,Ye=function(){var e=m().data,t=void 0===e?[]:e,c=Object(r.r)().productId,n=void 0===c?"":c,a=x(n),s=a.data,i=a.isLoading,o=a.isFetching,l=a.isError,j=Object(G.useState)(0),u=Object(H.a)(j,2),d=u[0],b=u[1],O=Object(G.useState)(0),h=Object(H.a)(O,2),f=h[0],v=h[1],p=Object(G.useState)(0),g=Object(H.a)(p,2),N=g[0],y=g[1],P=Y((function(e){return e.cart})),C=Y((function(e){return e.favourites})),k=W(),S=Object(G.useMemo)((function(){return Oe(P,n)}),[P,n]),F=Object(G.useMemo)((function(){return Oe(C,n)}),[C,n]),D=Object(G.useMemo)((function(){return t.find((function(e){return e.id===n}))}),[t,n]),L=Object(G.useMemo)((function(){return D?be(D):0}),[D]),A=Object(G.useMemo)((function(){return t.slice(ze.From,ze.To)}),[t]);Object(G.useEffect)((function(){window.scrollTo(0,0)}),[n]);return Object(I.jsxs)("div",{className:"ProductDetailsPage container",children:[Object(I.jsx)("div",{className:"ProductDetailsPage__breadcrumbs",children:Object(I.jsx)(Ge,{})}),Object(I.jsx)("div",{className:"ProductDetailsPage__return",children:Object(I.jsx)($e,{})}),l&&Object(I.jsx)("h2",{className:"ProductDetailsPage__not-found",children:"Product was not found"}),(i||o)&&Object(I.jsx)("div",{className:"ProductDetailsPage__loader",children:Object(I.jsx)(xe,{})}),!i&&!o&&!l&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(I.jsxs)("section",{className:"ProductDetailsPage__main-content grid section",children:[Object(I.jsx)("h1",{className:"ProductDetailsPage__title",children:null===s||void 0===s?void 0:s.name}),Object(I.jsx)("aside",{className:"ProductDetailsPage__thumbnails",children:Object(I.jsx)("ul",{children:null===s||void 0===s?void 0:s.images.map((function(e,t){return Object(I.jsx)("li",{children:Object(I.jsx)("button",{type:"button",onClick:function(){return b(t)},className:T()("ProductDetailsPage__thumbnail-button",{active:d===t}),children:Object(I.jsx)("img",{src:e,alt:"thumbnail",width:"80",height:"78",className:"ProductDetailsPage__thumbnail"})})},e)}))})}),Object(I.jsx)("div",{className:"ProductDetailsPage__image-main",children:Object(I.jsx)("img",{src:null===s||void 0===s?void 0:s.images[d],alt:"product",width:"464"})}),Object(I.jsx)(Je,{images:null===s||void 0===s?void 0:s.images}),Object(I.jsxs)("div",{className:"ProductDetailsPage__actions",children:[Object(I.jsxs)("div",{className:"ProductDetailsPage__customize",children:[Object(I.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(I.jsx)("p",{children:"Available colors"}),Object(I.jsx)("ul",{children:["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"].map((function(e,t){return Object(I.jsx)("li",{children:Object(I.jsx)(ne,{variant:"color","aria-label":"choose-color-".concat(e),className:T()({active:N===t}),onClick:function(){return y(t)},children:Object(I.jsx)("span",{style:{backgroundColor:e}})})},e)}))})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(I.jsx)("p",{children:"Select capacity"}),Object(I.jsx)("ul",{children:["64 GB","256 GB","512 GB"].map((function(e,t){return Object(I.jsx)("li",{children:Object(I.jsx)(ne,{variant:"text","aria-label":"choose-capacity-".concat(e),className:T()({active:f===t}),onClick:function(){return v(t)},children:e})},e)}))})]})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__actions-container",children:[Object(I.jsxs)("div",{className:"ProductDetailsPage__price",children:[Object(I.jsx)("h2",{className:"ProductDetailsPage__price-sell",children:"$".concat(L)}),!(null===D||void 0===D||!D.discount)&&Object(I.jsx)("p",{className:"ProductDetailsPage__price-full",children:"$".concat(D.price)})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(I.jsx)(ne,{variant:"cart",className:T()("ProductDetailsPage__button-cart",{active:S}),onClick:function(){S||k(_(D))},children:S?"Added to cart":"Add to cart"}),Object(I.jsx)(ne,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:T()("ProductDetailsPage__button-favourite",{active:F}),onClick:function(){k(F?M(D.id):w(D))}})]})]}),Object(I.jsx)("div",{className:"ProductDetailsPage__specs-small",children:Object(I.jsx)("table",{className:"ProductDetailsPage__specs-table",role:"presentation",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Screen"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Resolution"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Processor"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"RAM"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]})]})})})]})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__details grid",children:[Object(I.jsxs)("div",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(I.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"About"}),Object(I.jsx)("p",{className:"ProductDetailsPage__about-description",children:null===s||void 0===s?void 0:s.description})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__techspecs",children:[Object(I.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"Tech specs"}),Object(I.jsx)("table",{className:"ProductDetailsPage__techspecs-table",role:"presentation",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Screen"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Resolution"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Processor"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"RAM"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Built in memory"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.flash)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Camera"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.camera.primary)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Additional Features"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.additionalFeatures)||"-"})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:"Cell"}),Object(I.jsx)("td",{children:(null===s||void 0===s?void 0:s.connectivity.cell)||"-"})]})]})})]})]})]}),Object(I.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(I.jsx)("h2",{children:"You may also like"}),Object(I.jsx)(ve,{products:A})]})]})]})};c(98),c(99);!function(e){e[e.One=1]="One"}(We||(We={}));var Ve=function(e){var t=e.item,c=W(),n=t.product,a=n.id,r=n.imageUrl,i=n.name,o=n.type,l="/".concat(o,"s/").concat(a),j=Object(G.useMemo)((function(){return be(t.product)}),[]);return Object(I.jsxs)("div",{className:"CartItem",children:[Object(I.jsxs)("div",{className:"CartItem__body",children:[Object(I.jsx)("button",{className:"CartItem__delete",type:"button","data-cy":"cartDeleteButton","aria-label":"delete",onClick:function(){return c(g(a))}}),Object(I.jsx)(s.b,{to:l,className:"CartItem__image",children:Object(I.jsx)("img",{src:r,alt:i,width:"66",height:"66"})}),Object(I.jsx)(s.b,{to:l,className:"CartItem__title",children:i})]}),Object(I.jsxs)("div",{className:"CartItem__total",children:[Object(I.jsxs)("div",{className:"CartItem__quantity",children:[Object(I.jsx)(ne,{variant:"quantity",sign:"minus","aria-label":"quantity-decrease",disabled:t.quantity===We.One,onClick:function(){return c(y(a))}}),Object(I.jsx)("span",{"data-cy":"productQauntity",children:t.quantity}),Object(I.jsx)(ne,{variant:"quantity",sign:"plus","aria-label":"quantity-increase",onClick:function(){return c(N(a))}})]}),Object(I.jsx)("div",{className:"CartItem__price",children:Object(I.jsx)("h2",{children:"$".concat(j)})})]})]})},Ke=function(){var e=Object(G.useState)(!1),t=Object(H.a)(e,2),c=t[0],n=t[1],a=Y((function(e){return e.cart})),s=Object(G.useMemo)((function(){return a.reduce((function(e,t){return e+be(t.product)*t.quantity}),0)}),[a]);return Object(I.jsxs)("div",{className:"Cart container",children:[Object(I.jsx)("div",{className:"Cart__breadcrumbs",children:Object(I.jsx)(Ge,{})}),Object(I.jsx)("div",{className:"Cart__return",children:Object(I.jsx)($e,{})}),Object(I.jsx)("div",{className:"Cart__title",children:Object(I.jsx)("h1",{children:"Cart"})}),Object(I.jsx)("div",{className:T()("Cart__checkout-message",{active:c}),children:Object(I.jsx)("h2",{children:"We are sorry, but this feature is not implemented yet"})}),a.length?Object(I.jsxs)("div",{className:"Cart__content grid",children:[Object(I.jsx)("div",{className:"Cart__products",children:Object(I.jsx)("ul",{className:"Cart__products-list",children:a.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(Ve,{item:e})},e.id)}))})}),Object(I.jsxs)("div",{className:"Cart__checkout",children:[Object(I.jsx)("h2",{children:"$".concat(s)}),Object(I.jsx)("p",{children:"Total for ".concat(a.length," items")}),Object(I.jsx)(ne,{variant:"cart",onClick:function(){n(!0),setTimeout((function(){n(!1)}),3e3)},disabled:c,children:"Checkout"})]})]}):Object(I.jsx)("h2",{className:"Cart__no-items-message",children:"Your cart is empty \ud83e\uddd0"})]})},Xe=(c(100),function(){var e=Y((function(e){return e.favourites})),t=Object(s.d)(),c=Object(H.a)(t,1)[0].get("query")||"",n=Object(G.useMemo)((function(){return e.filter((function(e){var t=Qe(c);return Qe(e.name).includes(t)}))}),[e,c]),a=n.length,r="".concat(a," item").concat(1===a?"":"s");return Object(I.jsxs)("div",{className:"Favourites container",children:[Object(I.jsx)("div",{className:"Favourites__breadcrumbs",children:Object(I.jsx)(Ge,{})}),Object(I.jsx)("div",{className:"Favourites__return",children:Object(I.jsx)($e,{})}),Object(I.jsx)("div",{className:"Favourites__title",children:Object(I.jsx)("h1",{children:"Favourites"})}),Object(I.jsx)("div",{className:"Favourites__items-count",children:Object(I.jsx)("p",{children:!!a&&r})}),!n.length&&c&&Object(I.jsx)(Ee,{category:"favourites"}),e.length||c?Object(I.jsx)(De,{items:n}):Object(I.jsx)("h2",{className:"Favourites__no-items-message",children:"No favourite items"})]})}),Ze=(c(101),function(){return Object(I.jsxs)("div",{className:"NotFoundPage",children:[Object(I.jsx)("div",{className:"NotFoundPage__back",children:Object(I.jsx)($e,{})}),Object(I.jsx)("div",{className:"NotFoundPage__title",children:Object(I.jsx)("h1",{children:"Page not found..."})})]})}),et=function(){return Object(I.jsx)(r.e,{children:Object(I.jsxs)(r.c,{path:"/",element:Object(I.jsx)(ie,{}),children:[Object(I.jsx)(r.c,{index:!0,element:Object(I.jsx)(Se,{})}),Object(I.jsx)(r.c,{path:"home",element:Object(I.jsx)(r.a,{to:"/",replace:!0})}),Object(I.jsxs)(r.c,{path:"phones",children:[Object(I.jsx)(r.c,{index:!0,element:Object(I.jsx)(Ue,{productType:Ie.Phone})}),Object(I.jsx)(r.c,{path:":productId",element:Object(I.jsx)(Ye,{})})]}),Object(I.jsxs)(r.c,{path:"tablets",children:[Object(I.jsx)(r.c,{index:!0,element:Object(I.jsx)(Ue,{productType:Ie.Tablet})}),Object(I.jsx)(r.c,{path:":productId",element:Object(I.jsx)(Ye,{})})]}),Object(I.jsxs)(r.c,{path:"accessories",children:[Object(I.jsx)(r.c,{index:!0,element:Object(I.jsx)(Ue,{productType:Ie.Accessory})}),Object(I.jsx)(r.c,{path:":productId",element:Object(I.jsx)(Ye,{})})]}),Object(I.jsx)(r.c,{path:"cart",element:Object(I.jsx)(Ke,{})}),Object(I.jsx)(r.c,{path:"favourites",element:Object(I.jsx)(Xe,{})}),Object(I.jsx)(r.c,{path:"*",element:Object(I.jsx)(Ze,{})})]})})};a.a.render(Object(I.jsx)(s.a,{children:Object(I.jsx)(et,{})}),document.getElementById("root"))}]),[[102,1,2]]]);
//# sourceMappingURL=main.cf52afd7.chunk.js.map