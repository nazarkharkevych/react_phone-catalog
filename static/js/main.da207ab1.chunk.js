(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(53).concat([function(e,t,c){},,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(31),a=c.n(n),s=c(8),r=c(3),i=(c(53),c(12)),o=c(6),l=c(4),j=c(46),u=c.n(j),d=c(47),b=c(14),O="https://mate-academy.github.io/react_phone-catalog/api/products",h=Object(d.a)({reducerPath:"api",baseQuery:Object(b.d)({baseUrl:""}),endpoints:function(e){return{getProducts:e.query({query:function(){return"".concat(O,".json")}}),getProductDetails:e.query({query:function(e){return"".concat(O,"/").concat(e,".json")}})}}}),m=h.useGetProductsQuery,x=h.useGetProductDetailsQuery,f=c(11),v=Object(l.e)({name:"cart",initialState:[],reducers:{add:function(e,t){e.push({id:t.payload.id,quantity:1,product:t.payload})},increaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1})}))},decreaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity-1})}))},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),p=v.actions,_=p.add,g=p.remove,N=p.increaseQuantity,y=p.decreaseQuantity,P=v.reducer,C=Object(l.e)({name:"favourites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=C.actions,w=k.add,M=k.remove,S=C.reducer,D=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),F=Object(l.b)({reducer:Object(o.a)({cart:P,favourites:S},h.reducerPath,h.reducer),middleware:function(e){return e().concat(h.middleware)},preloadedState:D});F.subscribe(u()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){throw new Error("Failed to serialize state")}}({cart:F.getState().cart,favourites:F.getState().favourites})}),1e3));c(70);var L,A=c(1),q=c.n(A),T=(c(71),c(23)),B=c(10),I=c.n(B),R=(c(72),c(0)),E=["type","children"],H=function(e){var t=e.type,c=e.children,n=Object(T.a)(e,E);return Object(R.jsx)(s.c,Object(f.a)(Object(f.a)({className:function(e){var c=e.isActive;return I()("NavLinkMain",Object(o.a)({},"NavLinkMain--".concat(t),t),{"is-active":c})}},n),{},{children:c}))},G=function(){return Object(R.jsx)("nav",{className:"Navbar",children:Object(R.jsxs)("ul",{className:"Navbar__list",children:[Object(R.jsx)("li",{className:"Navbar__item",children:Object(R.jsx)(H,{type:"text",to:"/",children:"Home"})}),Object(R.jsx)("li",{className:"Navbar__item",children:Object(R.jsx)(H,{type:"text",to:"phones",children:"Phones"})}),Object(R.jsx)("li",{className:"Navbar__item",children:Object(R.jsx)(H,{type:"text",to:"tablets",children:"Tablets"})}),Object(R.jsx)("li",{className:"Navbar__item",children:Object(R.jsx)(H,{type:"text",to:"accessories",children:"Accessories"})})]})})},Q=c(5),z=(c(75),function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()}),U=function(){var e=Object(s.d)(),t=Object(Q.a)(e,2),c=t[0],n=t[1],a=c.get("query")||"",i=Object(A.useState)(a),o=Object(Q.a)(i,2),l=o[0],j=o[1],u=Object(r.n)(),d=Object(A.useMemo)((function(){return u.pathname.split("/")[1]}),[u]);Object(A.useEffect)((function(){j(a)}),[d]);var b=Object(A.useMemo)((function(){return function(e){var t=e.pathname.split("/");return!(t.length>2)&&["phones","tablets","accessories","favourites"].some((function(e){return t.includes(e)}))}(u)}),[d]),O=Object(A.useCallback)(function(e,t){var c=0;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,a)}),t)}}(n,600),[d]);return Object(R.jsxs)("div",{className:I()("Search",{isVisible:b}),children:[Object(R.jsx)("input",{type:"text","aria-label":"search",value:l,className:I()("Search__input",{"has-icon":!l}),placeholder:"Search in ".concat(d,"..."),onChange:function(e){var t=e.target.value;j(t);var n={query:t.trim()||null};O(z(c,n))}}),Object(R.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"clear-search",className:I()("Search__clear-button",{isActive:!!l}),onClick:function(){j(""),n(z(c,{query:null}))}})]})},$=function(){return Object(i.d)()},J=i.e,W=(c(76),function(e){var t=e.count;return Object(R.jsx)("span",{className:I()("Counter",{isActive:!!t}),children:t})}),Y=(c(77),c.p+"static/media/Logo.2d8d3e42.svg"),V=function(){return Object(R.jsx)(s.b,{to:"/home",className:"Logo",children:Object(R.jsx)("img",{src:Y,alt:"logo"})})},K=(c(78),function(){var e=Object(A.useState)(!1),t=Object(Q.a)(e,2),c=t[0],n=t[1],a=document.body,r=function(){n(!1),a.classList.remove("with-menu")};return Object(R.jsxs)("div",{className:"Menu",children:[Object(R.jsx)("button",{type:"button",className:"Menu__open",onClick:function(){n(!0),a.classList.add("with-menu")}}),Object(R.jsxs)("div",{className:I()("Menu__content",{isActive:c}),children:[Object(R.jsx)("div",{className:"Menu__content-top",children:Object(R.jsx)("button",{type:"button",className:"Menu__close",onClick:r})}),Object(R.jsx)("ul",{className:"Menu__list",children:["home","phones","tablets","accessories","cart","favourites"].map((function(e){return Object(R.jsx)("li",{className:"Menu__item",children:Object(R.jsx)(s.b,{to:e,onClick:r,children:e[0].toUpperCase()+e.slice(1)})},e)}))})]})]})}),X=function(){var e=J((function(e){return e.cart})),t=J((function(e){return e.favourites})),c=Object(A.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),n=Object(A.useMemo)((function(){return t.length}),[t]);return Object(R.jsxs)("header",{className:"Header",children:[Object(R.jsxs)("div",{className:"Header__navigation",children:[Object(R.jsx)(V,{}),Object(R.jsx)(G,{})]}),Object(R.jsx)(U,{}),Object(R.jsxs)("div",{className:"Header__actions",children:[Object(R.jsx)(H,{to:"favourites",type:"favourite","aria-label":"favourites",children:Object(R.jsx)(W,{count:n})}),Object(R.jsx)(H,{to:"cart",type:"cart","aria-label":"cart",children:Object(R.jsx)(W,{count:c})})]}),Object(R.jsx)(K,{})]})},Z=(c(79),["className","variant","sign","arrowDirection"]),ee=function(e){var t=e.className,c=void 0===t?"":t,n=e.variant,a=e.sign,s=e.arrowDirection,r=Object(T.a)(e,Z);return Object(R.jsx)("button",Object(f.a)({type:"button",className:I()("Button",Object(o.a)({},c,c),Object(o.a)({},"Button--".concat(n),n),Object(o.a)({},"Button--quantity-".concat(a),a),Object(o.a)({},"Button--arrow-".concat(s),s))},r))};c(80);!function(e){e.Github="https://github.com/nazarkharkevych/react_phone-catalog"}(L||(L={}));var te,ce=function(){var e="".concat(L.Github,"/blob/master/LICENSE");return Object(R.jsx)("footer",{className:"Footer",children:Object(R.jsxs)("div",{className:"Footer__content container",children:[Object(R.jsx)(V,{}),Object(R.jsx)("div",{className:"Footer__info",children:Object(R.jsxs)("ul",{className:"Footer__list",children:[Object(R.jsx)("li",{className:"Footer__list-item",children:Object(R.jsx)("a",{rel:"noreferrer",target:"_blank",href:L.Github,children:"Github"})}),Object(R.jsx)("li",{className:"Footer__list-item",children:Object(R.jsx)("a",{href:"mailto:nkharkevych@gmail.com",children:"Contacts"})}),Object(R.jsx)("li",{className:"Footer__list-item",children:Object(R.jsx)("a",{rel:"noreferrer",target:"_blank",href:e,children:"Rights"})})]})}),Object(R.jsxs)("div",{className:"Footer__anchor",children:[Object(R.jsx)("strong",{className:"Footer__anchor-text",children:"Back to top"}),Object(R.jsx)(ee,{variant:"arrow",arrowDirection:"top","aria-label":"scroll-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})},ne=function(){return Object(R.jsx)(i.a,{store:F,children:Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(X,{}),Object(R.jsx)("main",{className:"App__main",children:Object(R.jsx)(r.b,{})}),Object(R.jsx)(ce,{})]})})},ae=(c(81),c(82),c(25));!function(e){e[e.First=0]="First",e[e.Last=2]="Last"}(te||(te={}));var se,re,ie=function(e){var t=e.images,c=Object(A.useState)(0),n=Object(Q.a)(c,2),a=n[0],r=n[1],i="translate(-".concat(100*a,"%, 0)"),o=function(){r((function(e){return e===te.First?te.Last:e-1}))},l=function(){r((function(e){return e===te.Last?te.First:e+1}))};Object(A.useEffect)((function(){var e=setInterval((function(){l()}),5e3);return function(){clearInterval(e)}}),[a]);var j=Object(ae.a)({onSwipedLeft:function(){return l()},onSwipedRight:function(){return o()},trackMouse:!0});return Object(R.jsxs)("div",{className:"Carousel",children:[Object(R.jsxs)("div",{className:"Carousel__container",children:[Object(R.jsx)(ee,{variant:"arrow",arrowDirection:"left","aria-label":"carosuel-left",className:"Carousel__button",onClick:o}),Object(R.jsx)("div",{className:"Carousel__image-container",children:Object(R.jsx)("ul",Object(f.a)(Object(f.a)({className:"Carousel__image-list",style:{transform:i}},j),{},{children:t.map((function(e){var t=e.link,c=e.alt,n=e.images;return Object(R.jsx)("li",{children:Object(R.jsx)(s.b,{to:t,className:"Carousel__link",children:Object(R.jsxs)("picture",{children:[Object(R.jsx)("source",{media:"(min-width:901px)",srcSet:n[0]}),Object(R.jsx)("img",{src:n[1],alt:c,className:"Carousel__image"})]})})},c)}))}))}),Object(R.jsx)(ee,{variant:"arrow",className:"Carousel__button","aria-label":"carosuel-right",onClick:l})]}),Object(R.jsx)("div",{className:"Carousel__badges",children:[0,1,2].map((function(e){return Object(R.jsx)("button",{type:"button","aria-label":"carousel-show-".concat(e+1,"-image"),className:I()("Carousel__badge",{"Carousel__badge--active":a===e}),onClick:function(){return r(e)}},e)}))})]})},oe=(c(83),c(48)),le=(c(85),function(e){var t=e.price;return t-t/100*e.discount}),je=function(e,t){return e.some((function(e){return e.id===t}))},ue=function(e){var t=e.product,c=t.id,n=t.name,a=t.type,r=t.price,i=t.discount,o=t.screen,l=t.capacity,j=t.ram,u=t.imageUrl,d=J((function(e){return e.cart})),b=J((function(e){return e.favourites})),O=$(),h=Object(A.useMemo)((function(){return le(t)}),[]),m="/".concat(a,"s/").concat(c),x=Object(A.useMemo)((function(){return je(d,c)}),[d]),f=Object(A.useMemo)((function(){return je(b,c)}),[b]);return Object(R.jsx)("div",{className:"ProductCard",children:Object(R.jsxs)("div",{className:"ProductCard__content",children:[Object(R.jsx)("div",{className:"ProductCard__image-container",children:Object(R.jsx)(s.b,{to:m,children:Object(R.jsx)("img",{className:"ProductCard__image",src:u,width:"208",height:"208",alt:"product"})})}),Object(R.jsx)("p",{className:"ProductCard__title",children:Object(R.jsx)(s.b,{to:m,children:n})}),Object(R.jsxs)("div",{className:"ProductCard__price",children:[Object(R.jsx)("h2",{className:"ProductCard__price-main",children:"$".concat(h)}),!!i&&Object(R.jsx)("p",{className:"ProductCard__price-discount",children:"$".concat(r)})]}),Object(R.jsx)("table",{className:"ProductCard__specs-table",role:"presentation",children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Screen"}),Object(R.jsx)("td",{children:o||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Capacity"}),Object(R.jsx)("td",{children:l||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"RAM"}),Object(R.jsx)("td",{children:j||"-"})]})]})}),Object(R.jsxs)("div",{className:"ProductCard__buttons",children:[Object(R.jsx)(ee,{variant:"cart",className:I()({active:x}),onClick:function(){x||O(_(t))},children:x?"Added to cart":"Add to cart"}),Object(R.jsx)(ee,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:I()({active:f}),onClick:function(){O(f?M(c):w(t))}})]})]})})},de=(c(86),Object(A.memo)((function(e){var t=e.category,c=Object(A.useMemo)((function(){return t[0].toUpperCase()+t.slice(1)}),[t]);return Object(R.jsx)("div",{className:"NoResults",children:Object(R.jsx)("h2",{children:"".concat(c," not found")})})}))),be=(c(87),function(){return Object(R.jsx)("div",{className:"Loader",children:Object(R.jsx)("div",{className:"Loader__content"})})});!function(e){e[e.Fisrt=0]="Fisrt"}(se||(se={})),function(e){e[e.Small=460]="Small",e[e.Medium=800]="Medium",e[e.Large=1e3]="Large"}(re||(re={}));var Oe,he=function(e){var t=e.products,c=Object(A.useState)(0),n=Object(Q.a)(c,2),a=n[0],s=n[1],r=Object(A.useState)(0),i=Object(Q.a)(r,2),o=i[0],l=i[1],j=Object(A.useRef)(null),u=t.length,d=Object(A.useMemo)((function(){return o<re.Small?1:o<re.Medium?2:o<re.Large?3:4}),[o]),b=Object(A.useMemo)((function(){return(o-16*(d-1))/d}),[o,d]),O=Object(A.useMemo)((function(){return u*b+16*(u-1)}),[b]),h=Object(A.useMemo)((function(){return u-a<d&&s((function(e){return e-1})),a*b+16*a}),[a,b,d]);Object(A.useEffect)((function(){var e,t,c=(e=j,t=l,function(){e.current&&t(e.current.offsetWidth)}),n=Object(oe.throttle)(c,200);return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var m=function(){s((function(e){return e-d<se.Fisrt?se.Fisrt:e-d}))},x=function(){s((function(e){return e+d>u-d?u-d:e+d}))},v=Object(ae.a)({onSwipedLeft:function(){return x()},onSwipedRight:function(){return m()},trackMouse:!0});return t.length?Object(R.jsxs)("div",{className:"ProductsSlider",children:[Object(R.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(R.jsx)(ee,{disabled:a===se.Fisrt,variant:"arrow",arrowDirection:"left","aria-label":"slide-left",onClick:m}),Object(R.jsx)(ee,{disabled:a>=u-d,variant:"arrow","aria-label":"slide-right",onClick:x})]}),Object(R.jsx)("div",{ref:j,className:"ProductsSlider__content",children:o?Object(R.jsx)("ul",Object(f.a)(Object(f.a)({className:"ProductsSlider__content-list","data-cy":"cardsContainer",style:{width:O,transform:"translate(-".concat(h,"px, 0)")}},v),{},{children:t.map((function(e){return Object(R.jsx)("li",{style:{width:b},children:Object(R.jsx)(ue,{product:e})},e.id)}))})):Object(R.jsx)(be,{})})]}):Object(R.jsx)(de,{category:"Products"})},me=function(e,t){return e.reduce((function(e,c){return c.type!==t?e:e+1}),0)},xe=c.p+"static/media/category-phones.a089d6e2.png",fe=c.p+"static/media/category-tablets.4343567d.png",ve=c.p+"static/media/category-accessories.4333225f.png",pe=c.p+"static/media/banner-phones.b4eeda8b.png",_e=c.p+"static/media/banner-tablets.a962057c.png",ge=c.p+"static/media/banner-accessories.bdd2e0fc.png",Ne=c.p+"static/media/banner-phones-mob.5b08c418.jpg",ye=c.p+"static/media/banner-tablets-mob.b48bff67.jpg",Pe=c.p+"static/media/banner-accessories-mob.872117fd.jpg",Ce=function(){var e=m(),t=e.data,c=void 0===t?[]:t,n=e.isLoading,a=[{link:"/phones",alt:"Phones",images:[pe,Ne]},{link:"/tablets",alt:"Tablets",images:[_e,ye]},{link:"/accessories",alt:"Accessories",images:[ge,Pe]}],r=Object(A.useMemo)((function(){return c.filter((function(e){return 0!==e.discount})).sort((function(e,t){return le(e)-le(t)}))}),[c]),i=Object(A.useMemo)((function(){return c.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[c]),o=Object(A.useMemo)((function(){return me(c,"phone")}),[c]),l=Object(A.useMemo)((function(){return me(c,"tablet")}),[c]),j=Object(A.useMemo)((function(){return me(c,"accessory")}),[c]);return Object(R.jsxs)("div",{className:"HomePage container",children:[n&&Object(R.jsx)("div",{className:"HomePage__loader",children:Object(R.jsx)(be,{})}),!n&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"HomePage__carousel-container",children:Object(R.jsx)(ie,{images:a})}),Object(R.jsxs)("section",{className:"section",children:[Object(R.jsx)("h2",{className:"section__title",children:"Hot prices"}),Object(R.jsx)(he,{products:r})]}),Object(R.jsxs)("section",{className:"HomePage__shop-by-category section",children:[Object(R.jsx)("h2",{className:"section__title",children:"Shop by category"}),Object(R.jsx)("div",{className:"HomePage__shop-by-category-container",children:Object(R.jsxs)("ul",{className:"HomePage__shop-by-category-list","data-cy":"categoryLinksContainer",children:[Object(R.jsx)("li",{children:Object(R.jsxs)(s.b,{to:"/phones",className:"HomePage__shop-by-category-link",children:[Object(R.jsx)("img",{src:xe,alt:"phones"}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Mobile phones"}),Object(R.jsx)("p",{children:"".concat(o," models")})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(s.b,{to:"/tablets",className:"HomePage__shop-by-category-link",children:[Object(R.jsx)("img",{src:fe,alt:"tablets"}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Tablets"}),Object(R.jsx)("p",{children:"".concat(l," models")})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(s.b,{to:"/accessories",className:"HomePage__shop-by-category-link",children:[Object(R.jsx)("img",{src:ve,alt:"accessories"}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Accessories"}),Object(R.jsx)("p",{children:"".concat(j," models")})]})]})})]})})]}),Object(R.jsxs)("section",{className:"HomePage__brand-new section",children:[Object(R.jsx)("h2",{className:"section__title",children:"Brand new models"}),Object(R.jsx)(he,{products:i})]})]})]})},ke=c(13),we=(c(88),c(89),function(e){var t=e.items;return Object(R.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(R.jsx)("ul",{className:"ProductsList__list",children:t.map((function(e){return Object(R.jsx)("li",{className:"ProductsList__item",children:Object(R.jsx)(ue,{product:e})},e.id)}))})})}),Me=(c(90),["children","params"]),Se=function(e){var t=e.children,c=e.params,n=Object(T.a)(e,Me),a=Object(s.d)(),r=Object(Q.a)(a,1)[0];return Object(R.jsx)(s.b,Object(f.a)(Object(f.a)({to:{search:z(r,c)}},n),{},{children:t}))};!function(e){e.First="1"}(Oe||(Oe={}));var De,Fe=function(e){var t=e.children,c=e.paramName,n=e.label,a=Object(A.useState)(!1),r=Object(Q.a)(a,2),i=r[0],l=r[1],j=Object(s.d)(),u=Object(Q.a)(j,2),d=u[0],b=u[1],O=d.get(c)||"",h=Object(A.useMemo)((function(){return q.a.Children.toArray(t)}),[]),m=Object(A.useRef)(),x=function(){l(!1)};return Object(A.useEffect)((function(){if(i){var e=function(e){m.current.contains(e.target)||l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[i]),Object(R.jsx)("div",{ref:m,className:I()("DropdownSelect",{"is-active":i}),children:Object(R.jsxs)("label",{htmlFor:c,className:"DropdownSelect__label",children:[n,Object(R.jsx)("select",{name:c,id:c,className:"DropdownSelect__select",value:O,onChange:function(e){var t=Object(o.a)({},c,e.target.value);b(z(d,t))},onMouseDown:function(e){e.preventDefault(),l((function(e){return!e}))},children:t}),Object(R.jsx)("ul",{children:h.map((function(e){var t,n=e.props;return Object(R.jsx)("li",{children:Object(R.jsx)(Se,{params:(t={},Object(o.a)(t,c,n.value),Object(o.a)(t,"page",Oe.First),t),onClick:x,children:n.children})},n.value)}))})]})})};c(91);!function(e){e[e.First=1]="First"}(De||(De={}));var Le,Ae,qe=function(e){var t=e.total,c=e.perPage,n=e.currentPage,a=Object(A.useMemo)((function(){return Math.ceil(t/c)}),[t,c]),s=Object(A.useMemo)((function(){return function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(1,a)}),[a]);return Object(R.jsxs)("ul",{className:"Pagination","data-cy":"pagination",children:[Object(R.jsx)("li",{className:I()("Pagination__item",{disabled:n===De.First}),children:Object(R.jsx)(Se,{"data-cy":"paginationLeft",className:"Pagination__link Pagination__link--prev","aria-label":"pagination-left",params:{page:"".concat(n-1)}})}),s.map((function(e){return Object(R.jsx)("li",{className:I()("Pagination__item",{active:n===e}),children:Object(R.jsx)(Se,{className:"Pagination__link",params:{page:"".concat(e)},children:e})},e)})),Object(R.jsx)("li",{className:I()("Pagination__item",{disabled:n===a}),children:Object(R.jsx)(Se,{"data-cy":"paginationRight",className:"Pagination__link Pagination__link--next","aria-label":"pagination-right",params:{page:"".concat(n+1)}})})]})},Te=(c(92),function(e){var t=e.category;return Object(R.jsx)("div",{className:"NoSearchResults",children:Object(R.jsx)("h2",{children:"No ".concat(t," matching the query found \ud83e\uddd0")})})}),Be=(c(93),function(){var e=Object(r.n)(),t=Object(A.useMemo)((function(){return e.pathname.split("/").filter((function(e){return!!e}))}),[e]);return Object(R.jsx)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:Object(R.jsxs)("ul",{className:"Breadcrumbs__list",children:[Object(R.jsx)("li",{children:Object(R.jsx)(s.b,{to:"/home",className:"Breadcrumbs__home-link","aria-label":"home"})}),t.map((function(e,t,c){var n=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}(e);return Object(R.jsx)("li",{className:"Breadcrumbs__item",children:t!==c.length-1?Object(R.jsx)(s.b,{to:"/".concat(e),children:n}):n},e)}))]})})}),Ie=function(e){return e.trim().toLowerCase()};!function(e){e.Phone="phone",e.Tablet="tablet",e.Accessory="accessory"}(Le||(Le={})),function(e){e.Age="age",e.Name="name",e.Price="price"}(Ae||(Ae={}));var Re,Ee=function(e){var t,c,n=e.productType,a=m(),r=a.data,i=void 0===r?[]:r,l=a.isLoading,j=Object(s.d)(),u=Object(Q.a)(j,1)[0],d=u.get("sort")||"",b=u.get("perPage")||"",O=+(u.get("page")||"")||1,h=u.get("query")||"",x=(t={},Object(o.a)(t,Le.Phone,"Mobile phones"),Object(o.a)(t,Le.Tablet,"Tablets"),Object(o.a)(t,Le.Accessory,"Accessories"),t),f=(c={},Object(o.a)(c,Le.Phone,"phones"),Object(o.a)(c,Le.Tablet,"tablets"),Object(o.a)(c,Le.Accessory,"accessories"),c),v=Object(A.useMemo)((function(){return i.filter((function(e){return e.type===n}))}),[i,n]),p=Object(A.useMemo)((function(){return v.filter((function(e){var t=Ie(h);return Ie(e.name).includes(t)}))}),[v,h]),_=Object(A.useMemo)((function(){var e=Object(ke.a)(p);switch(d){case Ae.Age:return e.sort((function(e,t){return e.age-t.age}));case Ae.Name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case Ae.Price:return e.sort((function(e,t){return le(e)-le(t)}));default:return p}}),[d,p]),g=_.length,N={all:g,4:4,16:16,8:8,"":8},y=Object(A.useMemo)((function(){return N[b]*O-(N[b]-1)}),[O,b]),P=Object(A.useMemo)((function(){return Math.min(N[b]*O,g)}),[b,O,g]),C=Object(A.useMemo)((function(){return _.slice(y-1,P)}),[d,y,P,_]);return Object(R.jsxs)("div",{className:"ProductsPage container",children:[Object(R.jsx)("div",{className:"ProductsPage__breadcrumbs",children:Object(R.jsx)(Be,{})}),Object(R.jsxs)("div",{className:"ProductsPage__title",children:[Object(R.jsx)("h1",{children:x[n]}),Object(R.jsx)("p",{children:"".concat(g," models")})]}),Object(R.jsxs)("div",{className:I()("ProductsPage__actions",{disabled:!g}),children:[Object(R.jsxs)(Fe,{paramName:"sort",label:"Sort by",children:[Object(R.jsx)("option",{value:"age",children:"Newest"}),Object(R.jsx)("option",{value:"name",children:"Alphabetically"}),Object(R.jsx)("option",{value:"price",children:"Cheapest"})]}),Object(R.jsxs)(Fe,{paramName:"perPage",label:"Items on page",children:[Object(R.jsx)("option",{value:"all",children:"All"}),Object(R.jsx)("option",{value:"4",children:"4"}),Object(R.jsx)("option",{value:"8",children:"8"}),Object(R.jsx)("option",{value:"16",children:"16"})]})]}),!g&&(h?Object(R.jsx)(Te,{category:f[n]}):!l&&Object(R.jsx)(de,{category:f[n]})),l?Object(R.jsx)(be,{}):!!g&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"ProductsPage__product-list",children:Object(R.jsx)(we,{items:C})}),g>3&&Object(R.jsx)(qe,{total:g,perPage:N[b],currentPage:O})]})]})},He=(c(94),c(95),function(){var e=Object(r.p)();return Object(R.jsx)("button",{"data-cy":"backButton",type:"button",className:"GoBackButton",onClick:function(){return e(-1)},children:"Back"})}),Ge=(c(96),function(e){var t=e.images,c=Object(A.useState)(0),n=Object(Q.a)(c,2),a=n[0],s=n[1],r=Object(ae.a)({onSwipedLeft:function(){a!==t.length-1&&s((function(e){return e+1}))},onSwipedRight:function(){a!==te.First&&s((function(e){return e-1}))},trackMouse:!0});return Object(R.jsx)("div",{className:"MobileCarousel",children:Object(R.jsx)("ul",Object(f.a)(Object(f.a)({className:"MobileCarousel__list",style:{transform:"translate(-".concat(100*a,"%, 0)")}},r),{},{children:null===t||void 0===t?void 0:t.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)("img",{src:e,alt:"product"})},e)}))}))})});!function(e){e[e.From=4]="From",e[e.To=16]="To"}(Re||(Re={}));var Qe,ze=function(){var e=m().data,t=void 0===e?[]:e,c=Object(r.r)().productId,n=void 0===c?"":c,a=x(n),s=a.data,i=a.isLoading,o=a.isFetching,l=a.isError,j=Object(A.useState)(0),u=Object(Q.a)(j,2),d=u[0],b=u[1],O=Object(A.useState)(0),h=Object(Q.a)(O,2),f=h[0],v=h[1],p=Object(A.useState)(0),g=Object(Q.a)(p,2),N=g[0],y=g[1],P=J((function(e){return e.cart})),C=J((function(e){return e.favourites})),k=$(),S=Object(A.useMemo)((function(){return je(P,n)}),[P,n]),D=Object(A.useMemo)((function(){return je(C,n)}),[C,n]),F=Object(A.useMemo)((function(){return t.find((function(e){return e.id===n}))}),[t,n]),L=Object(A.useMemo)((function(){return F?le(F):0}),[F]),q=Object(A.useMemo)((function(){return t.slice(Re.From,Re.To)}),[t]);Object(A.useEffect)((function(){window.scrollTo(0,0)}),[n]);return Object(R.jsxs)("div",{className:"ProductDetailsPage container",children:[Object(R.jsx)("div",{className:"ProductDetailsPage__breadcrumbs",children:Object(R.jsx)(Be,{})}),Object(R.jsx)("div",{className:"ProductDetailsPage__return",children:Object(R.jsx)(He,{})}),l&&Object(R.jsx)("h2",{className:"ProductDetailsPage__not-found",children:"Product was not found"}),(i||o)&&Object(R.jsx)("div",{className:"ProductDetailsPage__loader",children:Object(R.jsx)(be,{})}),!i&&!o&&!l&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(R.jsxs)("section",{className:"ProductDetailsPage__main-content grid section",children:[Object(R.jsx)("h1",{className:"ProductDetailsPage__title",children:null===s||void 0===s?void 0:s.name}),Object(R.jsx)("aside",{className:"ProductDetailsPage__thumbnails",children:Object(R.jsx)("ul",{children:null===s||void 0===s?void 0:s.images.map((function(e,t){return Object(R.jsx)("li",{children:Object(R.jsx)("button",{type:"button",onClick:function(){return b(t)},className:I()("ProductDetailsPage__thumbnail-button",{active:d===t}),children:Object(R.jsx)("img",{src:e,alt:"thumbnail",width:"80",height:"78",className:"ProductDetailsPage__thumbnail"})})},e)}))})}),Object(R.jsx)("div",{className:"ProductDetailsPage__image-main",children:Object(R.jsx)("img",{src:null===s||void 0===s?void 0:s.images[d],alt:"product",width:"464"})}),Object(R.jsx)(Ge,{images:null===s||void 0===s?void 0:s.images}),Object(R.jsxs)("div",{className:"ProductDetailsPage__actions",children:[Object(R.jsxs)("div",{className:"ProductDetailsPage__customize",children:[Object(R.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(R.jsx)("p",{children:"Available colors"}),Object(R.jsx)("ul",{children:["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"].map((function(e,t){return Object(R.jsx)("li",{children:Object(R.jsx)(ee,{variant:"color","aria-label":"choose-color-".concat(e),className:I()({active:N===t}),onClick:function(){return y(t)},children:Object(R.jsx)("span",{style:{backgroundColor:e}})})},e)}))})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(R.jsx)("p",{children:"Select capacity"}),Object(R.jsx)("ul",{children:["64 GB","256 GB","512 GB"].map((function(e,t){return Object(R.jsx)("li",{children:Object(R.jsx)(ee,{variant:"text","aria-label":"choose-capacity-".concat(e),className:I()({active:f===t}),onClick:function(){return v(t)},children:e})},e)}))})]})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__actions-container",children:[Object(R.jsxs)("div",{className:"ProductDetailsPage__price",children:[Object(R.jsx)("h2",{className:"ProductDetailsPage__price-sell",children:"$".concat(L)}),!(null===F||void 0===F||!F.discount)&&Object(R.jsx)("p",{className:"ProductDetailsPage__price-full",children:"$".concat(F.price)})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(R.jsx)(ee,{variant:"cart",className:I()("ProductDetailsPage__button-cart",{active:S}),onClick:function(){S||k(_(F))},children:S?"Added to cart":"Add to cart"}),Object(R.jsx)(ee,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:I()("ProductDetailsPage__button-favourite",{active:D}),onClick:function(){k(D?M(F.id):w(F))}})]})]}),Object(R.jsx)("div",{className:"ProductDetailsPage__specs-small",children:Object(R.jsx)("table",{className:"ProductDetailsPage__specs-table",role:"presentation",children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Screen"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Resolution"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Processor"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"RAM"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]})]})})})]})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__details grid",children:[Object(R.jsxs)("div",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(R.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"About"}),Object(R.jsx)("p",{className:"ProductDetailsPage__about-description",children:null===s||void 0===s?void 0:s.description})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__techspecs",children:[Object(R.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"Tech specs"}),Object(R.jsx)("table",{className:"ProductDetailsPage__techspecs-table",role:"presentation",children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Screen"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Resolution"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Processor"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"RAM"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Built in memory"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.flash)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Camera"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.camera.primary)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Additional Features"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.additionalFeatures)||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:"Cell"}),Object(R.jsx)("td",{children:(null===s||void 0===s?void 0:s.connectivity.cell)||"-"})]})]})})]})]})]}),Object(R.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(R.jsx)("h2",{children:"You may also like"}),Object(R.jsx)(he,{products:q})]})]})]})};c(97),c(98);!function(e){e[e.One=1]="One"}(Qe||(Qe={}));var Ue=function(e){var t=e.item,c=$(),n=t.product,a=n.id,r=n.imageUrl,i=n.name,o=n.type,l="/".concat(o,"s/").concat(a),j=Object(A.useMemo)((function(){return le(t.product)}),[]);return Object(R.jsxs)("div",{className:"CartItem",children:[Object(R.jsxs)("div",{className:"CartItem__body",children:[Object(R.jsx)("button",{className:"CartItem__delete",type:"button","data-cy":"cartDeleteButton","aria-label":"delete",onClick:function(){return c(g(a))}}),Object(R.jsx)(s.b,{to:l,className:"CartItem__image",children:Object(R.jsx)("img",{src:r,alt:i,width:"66",height:"66"})}),Object(R.jsx)(s.b,{to:l,className:"CartItem__title",children:i})]}),Object(R.jsxs)("div",{className:"CartItem__total",children:[Object(R.jsxs)("div",{className:"CartItem__quantity",children:[Object(R.jsx)(ee,{variant:"quantity",sign:"minus","aria-label":"quantity-decrease",disabled:t.quantity===Qe.One,onClick:function(){return c(y(a))}}),Object(R.jsx)("span",{"data-cy":"productQauntity",children:t.quantity}),Object(R.jsx)(ee,{variant:"quantity",sign:"plus","aria-label":"quantity-increase",onClick:function(){return c(N(a))}})]}),Object(R.jsx)("div",{className:"CartItem__price",children:Object(R.jsx)("h2",{children:"$".concat(j)})})]})]})},$e=function(){var e=Object(A.useState)(!1),t=Object(Q.a)(e,2),c=t[0],n=t[1],a=J((function(e){return e.cart})),s=Object(A.useMemo)((function(){return a.reduce((function(e,t){return e+le(t.product)*t.quantity}),0)}),[a]);return Object(R.jsxs)("div",{className:"Cart container",children:[Object(R.jsx)("div",{className:"Cart__breadcrumbs",children:Object(R.jsx)(Be,{})}),Object(R.jsx)("div",{className:"Cart__return",children:Object(R.jsx)(He,{})}),Object(R.jsx)("div",{className:"Cart__title",children:Object(R.jsx)("h1",{children:"Cart"})}),Object(R.jsx)("div",{className:I()("Cart__checkout-message",{active:c}),children:Object(R.jsx)("h2",{children:"We are sorry, but this feature is not implemented yet"})}),a.length?Object(R.jsxs)("div",{className:"Cart__content grid",children:[Object(R.jsx)("div",{className:"Cart__products",children:Object(R.jsx)("ul",{className:"Cart__products-list",children:a.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(Ue,{item:e})},e.id)}))})}),Object(R.jsxs)("div",{className:"Cart__checkout",children:[Object(R.jsx)("h2",{children:"$".concat(s)}),Object(R.jsx)("p",{children:"Total for ".concat(a.length," items")}),Object(R.jsx)(ee,{variant:"cart",onClick:function(){n(!0),setTimeout((function(){n(!1)}),3e3)},disabled:c,children:"Checkout"})]})]}):Object(R.jsx)("h2",{className:"Cart__no-items-message",children:"Your cart is empty \ud83e\uddd0"})]})},Je=(c(99),function(){var e=J((function(e){return e.favourites})),t=Object(s.d)(),c=Object(Q.a)(t,1)[0].get("query")||"",n=Object(A.useMemo)((function(){return e.filter((function(e){var t=Ie(c);return Ie(e.name).includes(t)}))}),[e,c]),a=n.length,r="".concat(a," item").concat(1===a?"":"s");return Object(R.jsxs)("div",{className:"Favourites container",children:[Object(R.jsx)("div",{className:"Favourites__breadcrumbs",children:Object(R.jsx)(Be,{})}),Object(R.jsx)("div",{className:"Favourites__return",children:Object(R.jsx)(He,{})}),Object(R.jsx)("div",{className:"Favourites__title",children:Object(R.jsx)("h1",{children:"Favourites"})}),Object(R.jsx)("div",{className:"Favourites__items-count",children:Object(R.jsx)("p",{children:!!a&&r})}),!n.length&&c&&Object(R.jsx)(Te,{category:"favourites"}),e.length||c?Object(R.jsx)(we,{items:n}):Object(R.jsx)("h2",{className:"Favourites__no-items-message",children:"No favourite items"})]})}),We=(c(100),function(){return Object(R.jsxs)("div",{className:"NotFoundPage",children:[Object(R.jsx)("div",{className:"NotFoundPage__back",children:Object(R.jsx)(He,{})}),Object(R.jsx)("div",{className:"NotFoundPage__title",children:Object(R.jsx)("h1",{children:"Page not found..."})})]})}),Ye=function(){return Object(R.jsx)(r.e,{children:Object(R.jsxs)(r.c,{path:"/",element:Object(R.jsx)(ne,{}),children:[Object(R.jsx)(r.c,{index:!0,element:Object(R.jsx)(Ce,{})}),Object(R.jsx)(r.c,{path:"home",element:Object(R.jsx)(r.a,{to:"/",replace:!0})}),Object(R.jsxs)(r.c,{path:"phones",children:[Object(R.jsx)(r.c,{index:!0,element:Object(R.jsx)(Ee,{productType:Le.Phone})}),Object(R.jsx)(r.c,{path:":productId",element:Object(R.jsx)(ze,{})})]}),Object(R.jsxs)(r.c,{path:"tablets",children:[Object(R.jsx)(r.c,{index:!0,element:Object(R.jsx)(Ee,{productType:Le.Tablet})}),Object(R.jsx)(r.c,{path:":productId",element:Object(R.jsx)(ze,{})})]}),Object(R.jsxs)(r.c,{path:"accessories",children:[Object(R.jsx)(r.c,{index:!0,element:Object(R.jsx)(Ee,{productType:Le.Accessory})}),Object(R.jsx)(r.c,{path:":productId",element:Object(R.jsx)(ze,{})})]}),Object(R.jsx)(r.c,{path:"cart",element:Object(R.jsx)($e,{})}),Object(R.jsx)(r.c,{path:"favourites",element:Object(R.jsx)(Je,{})}),Object(R.jsx)(r.c,{path:"*",element:Object(R.jsx)(We,{})})]})})};a.a.render(Object(R.jsx)(s.a,{children:Object(R.jsx)(Ye,{})}),document.getElementById("root"))}]),[[101,1,2]]]);
//# sourceMappingURL=main.da207ab1.chunk.js.map