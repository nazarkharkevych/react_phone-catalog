(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{51:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var a=c(29),n=c.n(a),s=c(9),r=c(3),i=(c(51),c(11)),o=c(7),l=c(4),j=c(45),d=c.n(j),u=c(46),b=c(14),O="https://mate-academy.github.io/react_phone-catalog/api/products",h=Object(u.a)({reducerPath:"api",baseQuery:Object(b.d)({baseUrl:""}),endpoints:function(e){return{getProducts:e.query({query:function(){return"".concat(O,".json")}}),getProductDetails:e.query({query:function(e){return"".concat(O,"/").concat(e,".json")}})}}}),m=h.useGetProductsQuery,x=h.useGetProductDetailsQuery,_=c(13),v=Object(l.e)({name:"cart",initialState:[],reducers:{add:function(e,t){e.push({id:t.payload.id,quantity:1,product:t.payload})},increaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity+1})}))},decreaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity-1})}))},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),p=v.actions,f=p.add,g=p.remove,N=p.increaseQuantity,y=p.decreaseQuantity,P=v.reducer,C=Object(l.e)({name:"favourites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=C.actions,D=k.add,w=k.remove,S=C.reducer,F=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),A=Object(l.b)({reducer:Object(o.a)({cart:P,favourites:S},h.reducerPath,h.reducer),middleware:function(e){return e().concat(h.middleware)},preloadedState:F});A.subscribe(d()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){throw new Error("Failed to serialize state")}}({cart:A.getState().cart,favourites:A.getState().favourites})}),1e3));c(68);var M=c(1),q=c.n(M),B=(c(69),c(23)),L=c(10),T=c.n(L),H=(c(70),c(0)),E=["type","children"],R=function(e){var t=e.type,c=e.children,a=Object(B.a)(e,E);return Object(H.jsx)(s.c,Object(_.a)(Object(_.a)({className:function(e){var c=e.isActive;return T()("NavLinkMain",Object(o.a)({},"NavLinkMain--".concat(t),t),{"is-active":c})}},a),{},{children:c}))},I=(c(73),c.p+"static/media/Logo.2d8d3e42.svg"),Q=function(){return Object(H.jsx)(s.b,{to:"/home",className:"Logo",children:Object(H.jsx)("img",{src:I,alt:"logo"})})},G=function(){return Object(H.jsx)("nav",{className:"Navbar",children:Object(H.jsxs)("ul",{className:"Navbar__list",children:[Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(Q,{})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(R,{type:"text",to:"/",children:"Home"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(R,{type:"text",to:"phones",children:"Phones"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(R,{type:"text",to:"tablets",children:"Tablets"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(R,{type:"text",to:"accessories",children:"Accessories"})})]})})},U=c(5),$=(c(74),function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(U.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}),z=function(){var e=Object(s.d)(),t=Object(U.a)(e,2),c=t[0],a=t[1],n=c.get("query")||"",i=Object(M.useState)(n),o=Object(U.a)(i,2),l=o[0],j=o[1],d=Object(r.n)(),u=d.pathname.split("/")[1];Object(M.useEffect)((function(){j(n)}),[u]);var b=Object(M.useMemo)((function(){return function(e){var t=e.pathname.split("/");return!(t.length>2)&&["phones","tablets","accessories","favourites"].some((function(e){return t.includes(e)}))}(d)}),[u]),O=Object(M.useCallback)(function(e,t){var c=0;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,n)}),t)}}(a,600),[u]);return Object(H.jsxs)("div",{className:T()("Search",{isVisible:b}),children:[Object(H.jsx)("input",{type:"text",value:l,className:T()("Search__input",{"has-icon":!l}),placeholder:"Search in ".concat(u,"..."),onChange:function(e){var t=e.target.value;j(t);var a={query:t.trim()||null};O($(c,a))}}),Object(H.jsx)("button",{type:"button","data-cy":"searchDelete",className:T()("Search__clear-button",{isActive:""!==l}),onClick:function(){j(""),a($(c,{query:null}))}})]})},J=function(){return Object(i.d)()},Y=i.e,V=(c(75),function(e){var t=e.count;return Object(H.jsx)("span",{className:T()("Counter",{isActive:!!t}),children:t})}),W=function(){var e=Y((function(e){return e.cart})),t=Y((function(e){return e.favourites})),c=Object(M.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),a=Object(M.useMemo)((function(){return t.length}),[t]);return Object(H.jsxs)("header",{className:"Header",children:[Object(H.jsx)("div",{className:"Header__navigation",children:Object(H.jsx)(G,{})}),Object(H.jsxs)("div",{className:"Header__actions",children:[Object(H.jsx)(z,{}),Object(H.jsx)(R,{to:"favourites",type:"favourite",children:Object(H.jsx)(V,{count:a})}),Object(H.jsx)(R,{to:"cart",type:"cart",children:Object(H.jsx)(V,{count:c})})]})]})},K=(c(76),["className","variant","sign","arrowDirection"]),X=function(e){var t=e.className,c=void 0===t?"":t,a=e.variant,n=e.sign,s=e.arrowDirection,r=Object(B.a)(e,K);return Object(H.jsx)("button",Object(_.a)({type:"button",className:T()("Button",Object(o.a)({},c,c),Object(o.a)({},"Button--".concat(a),a),Object(o.a)({},"Button--quantity-".concat(n),n),Object(o.a)({},"Button--arrow-".concat(s),s))},r))},Z=(c(77),function(){return Object(H.jsx)("footer",{className:"Footer",children:Object(H.jsxs)("div",{className:"Footer__content container",children:[Object(H.jsx)(Q,{}),Object(H.jsx)("div",{className:"Footer__info",children:Object(H.jsxs)("ul",{className:"Footer__list",children:[Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/nazarkharkevych/react_phone-catalog",children:"Github"})}),Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{href:"mailto:nkharkevych@gmail.com",children:"Contacts"})}),Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/\nnazarkharkevych/react_phone-catalog/blob/master/LICENSE",children:"Rights"})})]})}),Object(H.jsxs)("div",{className:"Footer__anchor",children:[Object(H.jsx)("span",{className:"Footer__anchor-text",children:"Back to top"}),Object(H.jsx)(X,{variant:"arrow",arrowDirection:"top",onClick:function(){return window.scrollTo(0,0)}})]})]})})}),ee=function(){return Object(H.jsx)(i.a,{store:A,children:Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(W,{}),Object(H.jsx)("main",{className:"App__main",children:Object(H.jsx)(r.b,{})}),Object(H.jsx)(Z,{})]})})},te=(c(78),c(79),c.p+"static/media/banner-phones.b4eeda8b.png"),ce=c.p+"static/media/banner-tablets.a962057c.png",ae=c.p+"static/media/banner-accessories.bdd2e0fc.png",ne=function(){var e=Object(M.useState)(0),t=Object(U.a)(e,2),c=t[0],a=t[1],n="translate(-".concat(100*c,"%, 0)"),r=function(){a((function(e){return 2===e?0:e+1}))};return Object(M.useEffect)((function(){var e=setInterval((function(){r()}),5e3);return function(){clearInterval(e)}}),[]),Object(H.jsxs)("div",{className:"Carousel",children:[Object(H.jsxs)("div",{className:"Carousel__container",children:[Object(H.jsx)(X,{variant:"arrow",arrowDirection:"left",className:"Carousel__button",onClick:function(){a((function(e){return 0===e?2:e-1}))}}),Object(H.jsx)("div",{className:"Carousel__image-container",children:Object(H.jsxs)("ul",{className:"Carousel__image-list",style:{transform:n},children:[Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/phones",className:"Carousel__link",children:Object(H.jsx)("img",{src:te,alt:"Phones",className:"Carousel__image"})})}),Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/tablets",className:"Carousel__link",children:Object(H.jsx)("img",{src:ce,alt:"Tablets",className:"Carousel__image"})})}),Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/accessories",className:"Carousel__link",children:Object(H.jsx)("img",{src:ae,alt:"Accessories",className:"Carousel__image"})})})]})}),Object(H.jsx)(X,{variant:"arrow",className:"Carousel__button",onClick:r})]}),Object(H.jsxs)("div",{className:"Carousel__badges",children:[Object(H.jsx)("button",{type:"button",className:T()("Carousel__badge",{"Carousel__badge--active":0===c}),onClick:function(){return a(0)}}),Object(H.jsx)("button",{type:"button",className:T()("Carousel__badge",{"Carousel__badge--active":1===c}),onClick:function(){return a(1)}}),Object(H.jsx)("button",{type:"button",className:T()("Carousel__badge",{"Carousel__badge--active":2===c}),onClick:function(){return a(2)}})]})]})},se=(c(80),function(e){var t=e.price;return t-t/100*e.discount}),re=function(e,t){return e.some((function(e){return e.id===t}))},ie=function(e){var t=e.product,c=t.id,a=t.name,n=t.type,r=t.price,i=t.discount,o=t.screen,l=t.capacity,j=t.ram,d=t.imageUrl,u=Y((function(e){return e.cart})),b=Y((function(e){return e.favourites})),O=J(),h=se(t),m="/".concat(n,"s/").concat(c),x=re(u,c),_=re(b,c);return Object(H.jsx)("div",{className:"ProductCard",children:Object(H.jsxs)("div",{className:"ProductCard__content",children:[Object(H.jsx)("div",{className:"ProductCard__image-container",children:Object(H.jsx)(s.b,{to:m,children:Object(H.jsx)("img",{className:"ProductCard__image",src:d,alt:"product"})})}),Object(H.jsx)("p",{className:"ProductCard__title",children:Object(H.jsx)(s.b,{to:m,children:a})}),Object(H.jsxs)("div",{className:"ProductCard__price",children:[Object(H.jsx)("h2",{className:"ProductCard__price-main",children:"$".concat(h)}),!!i&&Object(H.jsx)("p",{className:"ProductCard__price-discount",children:"$".concat(r)})]}),Object(H.jsx)("table",{className:"ProductCard__specs-table",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:o||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Capacity"}),Object(H.jsx)("td",{children:l||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:j||"-"})]})]})}),Object(H.jsxs)("div",{className:"ProductCard__buttons",children:[Object(H.jsx)(X,{variant:"cart",className:T()({active:x}),onClick:function(){x||O(f(t))},children:x?"Added to cart":"Add to cart"}),Object(H.jsx)(X,{variant:"favourite","data-cy":"addToFavorite",className:T()({active:_}),onClick:function(){O(_?w(c):D(t))}})]})]})})},oe=(c(81),function(e){var t=e.products,c=Object(M.useState)(0),a=Object(U.a)(c,2),n=a[0],s=a[1],r=t.length,i=272*r+16*(r-1),o="translate(-".concat(272*n+16*n,"px, 0)");return Object(H.jsx)("div",{className:"ProductsSlider",children:Object(H.jsxs)("div",{className:"ProductsSlider__slider",children:[Object(H.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(H.jsx)(X,{disabled:0===n,variant:"arrow",arrowDirection:"left",onClick:function(){s(n-4)}}),Object(H.jsx)(X,{disabled:n===r-4,variant:"arrow",onClick:function(){s(n+4)}})]}),Object(H.jsx)("div",{className:"ProductsSlider__content",children:Object(H.jsx)("ul",{className:"ProductsSlider__content-list","data-cy":"cardsContainer",style:{width:i,transform:o},children:t.map((function(e){return Object(H.jsx)("li",{children:Object(H.jsx)(ie,{product:e})},e.id)}))})})]})})}),le=function(e,t){return e.reduce((function(e,c){return c.type!==t?e:e+1}),0)},je=(c(82),function(){return Object(H.jsx)("div",{className:"Loader",children:Object(H.jsx)("div",{className:"Loader__content"})})}),de=function(){var e=m(),t=e.data,c=void 0===t?[]:t,a=e.isLoading,n=Object(M.useMemo)((function(){return c.filter((function(e){return 0!==e.discount})).sort((function(e,t){return se(e)-se(t)}))}),[c]),r=Object(M.useMemo)((function(){return c.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[c]),i=le(c,"phone"),o=le(c,"tablet"),l=le(c,"accessory");return Object(H.jsxs)("div",{className:"HomePage container",children:[a&&Object(H.jsx)("div",{className:"HomePage__loader",children:Object(H.jsx)(je,{})}),!a&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("section",{className:"HomePage__carousel-container",children:Object(H.jsx)(ne,{})}),Object(H.jsxs)("section",{className:"section",children:[Object(H.jsx)("h1",{className:"section__title",children:"Hot prices"}),Object(H.jsx)(oe,{products:n})]}),Object(H.jsxs)("section",{className:"HomePage__shop-by-category section",children:[Object(H.jsx)("h1",{className:"section__title",children:"Shop by category"}),Object(H.jsxs)("ul",{className:"HomePage__shop-by-category-container","data-cy":"categoryLinksContainer",children:[Object(H.jsxs)("li",{children:[Object(H.jsx)(s.b,{to:"/phones",className:"HomePage__shop-by-category-link",children:Object(H.jsx)("h3",{children:"Mobile phones"})}),Object(H.jsx)("p",{children:"".concat(i," models")})]}),Object(H.jsxs)("li",{children:[Object(H.jsx)(s.b,{to:"/tablets",className:"HomePage__shop-by-category-link",children:Object(H.jsx)("h3",{children:"Tablets"})}),Object(H.jsx)("p",{children:"".concat(o," models")})]}),Object(H.jsxs)("li",{children:[Object(H.jsx)(s.b,{to:"/accessories",className:"HomePage__shop-by-category-link",children:Object(H.jsx)("h3",{children:"Accessories"})}),Object(H.jsx)("p",{children:"".concat(l," models")})]})]})]}),Object(H.jsxs)("section",{className:"HomePage__brand-new section",children:[Object(H.jsx)("h1",{className:"section__title",children:"Brand new models"}),Object(H.jsx)(oe,{products:r})]})]})]})},ue=c(12),be=(c(83),c(84),function(e){var t=e.items;return Object(H.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(H.jsx)("ul",{className:"ProductsList__list",children:t.map((function(e){return Object(H.jsx)("li",{className:"ProductsList__item",children:Object(H.jsx)(ie,{product:e})},e.id)}))})})}),Oe=(c(85),["children","params"]),he=function(e){var t=e.children,c=e.params,a=Object(B.a)(e,Oe),n=Object(s.d)(),r=Object(U.a)(n,1)[0];return Object(H.jsx)(s.b,Object(_.a)(Object(_.a)({to:{search:$(r,c)}},a),{},{children:t}))},me=function(e){var t=e.children,c=e.paramName,a=e.label,n=Object(M.useState)(!1),r=Object(U.a)(n,2),i=r[0],l=r[1],j=Object(s.d)(),d=Object(U.a)(j,2),u=d[0],b=d[1],O=u.get(c)||"",h=q.a.Children.toArray(t),m=Object(M.useRef)(),x=function(){l(!1)};return Object(M.useEffect)((function(){if(i){var e=function(e){m.current.contains(e.target)||l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[i]),Object(H.jsx)("div",{ref:m,className:T()("DropdownSelect",{"is-active":i}),children:Object(H.jsxs)("label",{htmlFor:c,className:"DropdownSelect__label",children:[a,Object(H.jsx)("select",{name:c,id:c,className:"DropdownSelect__select",value:O,onChange:function(e){var t=Object(o.a)({},c,e.target.value);b($(u,t))},onMouseDown:function(e){e.preventDefault(),l((function(e){return!e}))},children:t}),Object(H.jsx)("ul",{children:h.map((function(e){var t,a=e.props;return Object(H.jsx)("li",{children:Object(H.jsx)(he,{params:(t={},Object(o.a)(t,c,a.value),Object(o.a)(t,"page","1"),t),onClick:x,children:a.children})},a.value)}))})]})})};c(86);var xe,_e=function(e){var t=e.total,c=e.perPage,a=e.currentPage,n=Math.ceil(t/c),s=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,n);return Object(H.jsxs)("ul",{className:"Pagination","data-cy":"pagination",children:[Object(H.jsx)("li",{className:T()("Pagination__item",{disabled:1===a}),children:Object(H.jsx)(he,{"data-cy":"paginationLeft",className:"Pagination__link Pagination__link--prev",params:{page:"".concat(a-1)}})}),s.map((function(e){return Object(H.jsx)("li",{className:T()("Pagination__item",{active:a===e}),children:Object(H.jsx)(he,{className:"Pagination__link",params:{page:"".concat(e)},children:e})},e)})),Object(H.jsx)("li",{className:T()("Pagination__item",{disabled:a===n}),children:Object(H.jsx)(he,{"data-cy":"paginationRight",className:"Pagination__link Pagination__link--next",params:{page:"".concat(a+1)}})})]})},ve=(c(87),function(e){var t=e.category;return Object(H.jsx)("div",{className:"NoSearchResults",children:Object(H.jsx)("h2",{children:"No ".concat(t," matching the query found \ud83e\uddd0")})})}),pe=(c(88),function(){var e=Object(r.n)(),t="",c=e.pathname.split("/").filter((function(e){return!!e})).map((function(e,c,a){t+="/".concat(e);var n=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}(e);return Object(H.jsx)("li",{className:"Breadcrumbs__item",children:c!==a.length-1?Object(H.jsx)(s.b,{to:t,children:n}):n},e)}));return Object(H.jsx)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:Object(H.jsxs)("ul",{className:"Breadcrumbs__list",children:[Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/home",className:"Breadcrumbs__home-link"})}),c]})})}),fe=function(e){return e.trim().toLowerCase()};!function(e){e.phone="phone",e.tablet="tablet",e.accessory="accessory"}(xe||(xe={}));c(89);var ge,Ne=function(e){var t=e.category,c=t[0].toUpperCase()+t.slice(1);return Object(H.jsx)("div",{className:"NoResults",children:Object(H.jsx)("h2",{children:"".concat(c," not found")})})};!function(e){e.age="age",e.name="name",e.price="price"}(ge||(ge={}));var ye=function(e){var t=e.productType,c=m(),a=c.data,n=void 0===a?[]:a,r=c.isLoading,i=Object(s.d)(),o=Object(U.a)(i,1)[0],l=o.get("sort")||"",j=o.get("perPage")||"",d=+(o.get("page")||"")||1,u=o.get("query")||"",b=function(e){switch(e){case xe.phone:return"Mobile phones";case xe.tablet:return"Tablets";case xe.accessory:return"Accessories";default:return""}}(t),O=function(e){switch(e){case xe.phone:return"phones";case xe.tablet:return"tablets";case xe.accessory:return"accessories";default:return""}}(t),h=Object(M.useMemo)((function(){return n.filter((function(e){return e.type===t}))}),[n,t]),x=Object(M.useMemo)((function(){return h.filter((function(e){var t=fe(u);return fe(e.name).includes(t)}))}),[h,u]),_=Object(M.useMemo)((function(){var e=Object(ue.a)(x);switch(l){case ge.age:return e.sort((function(e,t){return e.age-t.age}));case ge.name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case ge.price:return e.sort((function(e,t){return se(e)-se(t)}));default:return x}}),[l,x]),v=_.length,p=function(e,t){switch(e){case"all":return t;case"4":return 4;case"16":return 16;default:return 8}}(j,v),f=p*d-(p-1),g=Math.min(p*d,v),N=Object(M.useMemo)((function(){return _.slice(f-1,g)}),[l,f,g,_]);return Object(H.jsxs)("div",{className:"ProductsPage container",children:[Object(H.jsx)("div",{className:"ProductsPage__breadcrumbs",children:Object(H.jsx)(pe,{})}),Object(H.jsxs)("div",{className:"ProductsPage__title",children:[Object(H.jsx)("h1",{children:b}),Object(H.jsx)("p",{children:"".concat(v," models")})]}),Object(H.jsxs)("div",{className:T()("ProductsPage__actions",{disabled:!v}),children:[Object(H.jsxs)(me,{paramName:"sort",label:"Sort by",children:[Object(H.jsx)("option",{value:"age",children:"Newest"}),Object(H.jsx)("option",{value:"name",children:"Alphabetically"}),Object(H.jsx)("option",{value:"price",children:"Cheapest"})]}),Object(H.jsxs)(me,{paramName:"perPage",label:"Items on page",children:[Object(H.jsx)("option",{value:"all",children:"All"}),Object(H.jsx)("option",{value:"4",children:"4"}),Object(H.jsx)("option",{value:"8",children:"8"}),Object(H.jsx)("option",{value:"16",children:"16"})]})]}),!v&&u&&Object(H.jsx)(ve,{category:O}),!v&&!u&&!r&&Object(H.jsx)(Ne,{category:O}),r&&Object(H.jsx)(je,{}),!!v&&!r&&Object(H.jsxs)("section",{children:[Object(H.jsx)("div",{className:"ProductsPage__product-list",children:Object(H.jsx)(be,{items:N})}),v>3&&Object(H.jsx)(_e,{total:v,perPage:p,currentPage:d})]})]})},Pe=(c(90),c(91),function(){var e=Object(r.p)();return Object(H.jsx)("button",{"data-cy":"backButton",type:"button",className:"GoBackButton",onClick:function(){return e(-1)},children:"Back"})}),Ce=function(){var e=m().data,t=void 0===e?[]:e,c=Object(r.r)().productId,a=void 0===c?"":c,n=x(a),s=n.data,i=n.isLoading,o=n.isFetching,l=n.isError,j=Object(M.useState)(0),d=Object(U.a)(j,2),u=d[0],b=d[1],O=Object(M.useState)(0),h=Object(U.a)(O,2),_=h[0],v=h[1],p=Object(M.useState)(0),g=Object(U.a)(p,2),N=g[0],y=g[1],P=Y((function(e){return e.cart})),C=Y((function(e){return e.favourites})),k=J(),S=re(P,a),F=re(C,a),A=Object(M.useMemo)((function(){return t.find((function(e){return e.id===a}))}),[t]),q=Object(M.useMemo)((function(){return A?se(A):0}),[A]),B=Object(M.useMemo)((function(){return t.slice(4,16)}),[t]);Object(M.useEffect)((function(){window.scrollTo(0,0)}),[a]);return Object(H.jsxs)("div",{className:"ProductDetailsPage container",children:[Object(H.jsx)("div",{className:"ProductDetailsPage__breadcrumbs",children:Object(H.jsx)(pe,{})}),Object(H.jsx)("div",{className:"ProductDetailsPage__return",children:Object(H.jsx)(Pe,{})}),l&&Object(H.jsx)("h1",{className:"ProductDetailsPage__not-found",children:"Product was not found"}),(i||o)&&Object(H.jsx)("div",{className:"ProductDetailsPage__loader",children:Object(H.jsx)(je,{})}),!i&&!o&&!l&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(H.jsxs)("section",{className:"ProductDetailsPage__main-content grid section",children:[Object(H.jsx)("h1",{className:"ProductDetailsPage__title",children:null===s||void 0===s?void 0:s.name}),Object(H.jsx)("aside",{className:"ProductDetailsPage__thumbnails",children:Object(H.jsx)("ul",{children:null===s||void 0===s?void 0:s.images.map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)("button",{type:"button",onClick:function(){return b(t)},className:T()("ProductDetailsPage__thumbnail-button",{active:u===t}),children:Object(H.jsx)("img",{src:e,alt:"thumbnail",className:"ProductDetailsPage__thumbnail"})})},e)}))})}),Object(H.jsx)("div",{className:"ProductDetailsPage__image-main",children:Object(H.jsx)("img",{src:null===s||void 0===s?void 0:s.images[u],alt:"product"})}),Object(H.jsxs)("div",{className:"ProductDetailsPage__actions",children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(H.jsx)("p",{children:"Available colors"}),Object(H.jsx)("ul",{children:["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"].map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)(X,{variant:"color",className:T()({active:N===t}),onClick:function(){return y(t)},children:Object(H.jsx)("span",{style:{backgroundColor:e}})})},e)}))})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(H.jsx)("p",{children:"Select capacity"}),Object(H.jsx)("ul",{children:["64 GB","256 GB","512 GB"].map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)(X,{variant:"text",className:T()({active:_===t}),onClick:function(){return v(t)},children:e})},e)}))})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__actions-container",children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__price",children:[Object(H.jsx)("h2",{className:"ProductDetailsPage__price-sell",children:"$".concat(q)}),!(null===A||void 0===A||!A.discount)&&Object(H.jsx)("p",{className:"ProductDetailsPage__price-full",children:"$".concat(A.price)})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(H.jsx)(X,{variant:"cart",className:T()("ProductDetailsPage__button-cart",{active:S}),onClick:function(){S||k(f(A))},children:S?"Added to cart":"Add to cart"}),Object(H.jsx)(X,{variant:"favourite","data-cy":"addToFavorite",className:T()("ProductDetailsPage__button-favourite",{active:F}),onClick:function(){k(F?w(A.id):D(A))}})]})]}),Object(H.jsx)("div",{className:"ProductDetailsPage__specs-small",children:Object(H.jsx)("table",{className:"ProductDetailsPage__specs-table",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Resolution"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Processor"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]})]})})})]})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__details grid section",children:[Object(H.jsxs)("section",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(H.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"About"}),Object(H.jsx)("p",{className:"ProductDetailsPage__about-description",children:null===s||void 0===s?void 0:s.description})]}),Object(H.jsxs)("section",{className:"ProductDetailsPage__techspecs",children:[Object(H.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"Tech specs"}),Object(H.jsx)("table",{className:"ProductDetailsPage__techspecs-table",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Resolution"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Processor"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Built in memory"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.flash)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Camera"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.camera.primary)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Additional Features"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.additionalFeatures)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Cell"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.connectivity.cell)||"-"})]})]})})]})]})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(H.jsx)("h2",{children:"You may also like"}),Object(H.jsx)(oe,{products:B})]})]})]})},ke=(c(92),function(){var e=Object(M.useState)(!1),t=Object(U.a)(e,2),c=t[0],a=t[1],n=Y((function(e){return e.cart})),s=J(),r=Object(M.useMemo)((function(){return n.reduce((function(e,t){return e+se(t.product)*t.quantity}),0)}),[n]),i=function(e){s(g(e))};return Object(H.jsxs)("div",{className:"Cart container",children:[Object(H.jsx)("div",{className:"Cart__breadcrumbs",children:Object(H.jsx)(pe,{})}),Object(H.jsx)("div",{className:"Cart__return",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"Cart__title",children:Object(H.jsx)("h1",{children:"Cart"})}),Object(H.jsx)("div",{className:T()("Cart__checkout-message",{active:c}),children:Object(H.jsx)("h2",{children:"We are sorry, but this feature is not implemented yet"})}),n.length?Object(H.jsxs)("div",{className:"Cart__content grid",children:[Object(H.jsx)("div",{className:"Cart__products",children:Object(H.jsx)("ul",{className:"Cart__products-list",children:n.map((function(e){return Object(H.jsx)("li",{className:"Cart__products-item",children:Object(H.jsxs)("div",{className:"Cart__item",children:[Object(H.jsx)("button",{className:"Cart__item-delete",type:"button","data-cy":"cartDeleteButton",onClick:i.bind(null,e.product.id)}),Object(H.jsx)("div",{className:"Cart__item-image",children:Object(H.jsx)("img",{src:e.product.imageUrl,alt:e.product.name})}),Object(H.jsx)("div",{className:"Cart__item-title",children:e.product.name}),Object(H.jsxs)("div",{className:"Cart__item-quantity",children:[Object(H.jsx)(X,{variant:"quantity",sign:"minus",disabled:1===e.quantity,onClick:function(){return t=e.id,void s(y(t));var t}}),Object(H.jsx)("span",{"data-cy":"productQauntity",children:e.quantity}),Object(H.jsx)(X,{variant:"quantity",sign:"plus",onClick:function(){return t=e.id,void s(N(t));var t}})]}),Object(H.jsx)("div",{className:"Cart__item-price",children:Object(H.jsx)("h2",{children:"$".concat(se(e.product))})})]})},e.id)}))})}),Object(H.jsxs)("div",{className:"Cart__checkout",children:[Object(H.jsx)("h2",{children:"$".concat(r)}),Object(H.jsx)("p",{children:"Total for ".concat(n.length," items")}),Object(H.jsx)(X,{variant:"cart",onClick:function(){a(!0),setTimeout((function(){a(!1)}),3e3)},disabled:c,children:"Checkout"})]})]}):Object(H.jsx)("h2",{className:"Cart__no-items-message",children:"Your cart is empty \ud83e\uddd0"})]})}),De=(c(93),function(){var e=Y((function(e){return e.favourites})),t=Object(s.d)(),c=Object(U.a)(t,1)[0].get("query")||"",a=Object(M.useMemo)((function(){return e.filter((function(e){var t=fe(c);return fe(e.name).includes(t)}))}),[e,c]),n=a.length,r="".concat(n," item").concat(1===n?"":"s");return Object(H.jsxs)("div",{className:"Favourites container",children:[Object(H.jsx)("div",{className:"Favourites__breadcrumbs",children:Object(H.jsx)(pe,{})}),Object(H.jsx)("div",{className:"Favourites__return",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"Favourites__title",children:Object(H.jsx)("h1",{children:"Favourites"})}),Object(H.jsx)("div",{className:"Favourites__items-count",children:Object(H.jsx)("p",{children:!!n&&r})}),!a.length&&c&&Object(H.jsx)(ve,{category:"favourites"}),e.length||c?Object(H.jsx)(be,{items:a}):Object(H.jsx)("h2",{className:"Favourites__no-items-message",children:"No favourite items"})]})}),we=(c(94),function(){return Object(H.jsxs)("div",{className:"NotFoundPage",children:[Object(H.jsx)("div",{className:"NotFoundPage__back",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"NotFoundPage__title",children:Object(H.jsx)("h1",{children:"Page not found..."})})]})});n.a.render(Object(H.jsx)(s.a,{children:Object(H.jsx)(r.e,{children:Object(H.jsxs)(r.c,{path:"/",element:Object(H.jsx)(ee,{}),children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(de,{})}),Object(H.jsx)(r.c,{path:"home",element:Object(H.jsx)(r.a,{to:"/",replace:!0})}),Object(H.jsxs)(r.c,{path:"phones",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(ye,{productType:xe.phone})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Ce,{})})]}),Object(H.jsxs)(r.c,{path:"tablets",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(ye,{productType:xe.tablet})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Ce,{})})]}),Object(H.jsxs)(r.c,{path:"accessories",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(ye,{productType:xe.accessory})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Ce,{})})]}),Object(H.jsx)(r.c,{path:"cart",element:Object(H.jsx)(ke,{})}),Object(H.jsx)(r.c,{path:"favourites",element:Object(H.jsx)(De,{})}),Object(H.jsx)(r.c,{path:"*",element:Object(H.jsx)(we,{})})]})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.f30f677b.chunk.js.map